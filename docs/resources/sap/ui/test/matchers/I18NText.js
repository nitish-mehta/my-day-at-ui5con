/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./Matcher"],function(e,t){"use strict";return t.extend("sap.ui.test.matchers.I18NText",{metadata:{publicMethods:["isMatching"],properties:{propertyName:{type:"string"},key:{type:"string"},parameters:{type:"any"},modelName:{type:"string",defaultValue:"i18n"}}},isMatching:function(t){var o=this.getKey(),r=this.getPropertyName(),s=this.getParameters(),a=this.getModelName(),i=t.getModel(a),n,u=t["get"+e.sap.charToUpperCase(r,0)],g,d,l;if(!i){this._oLogger.debug("The '"+t+"' has no model with name '"+a+"'");return false}if(!i.getResourceBundle){this._oLogger.debug("The model '"+i+"' is not a valid resource model");return false}n=i.getResourceBundle();if(n instanceof Promise){if(i._oResourceBundle instanceof Object&&i._oResourceBundle.getText){n=i._oResourceBundle}else{this._oLogger.debug("The model '"+a+"' of '"+t+"' is in async mode and not loaded yet");return false}}if(!u){this._oLogger.debug("The '"+t+"' has no '"+r+"' property");return false}g=u.call(t);d=n.getText(o,s);if(d===o){var h="No value for the key '"+o+"' in the model '"+a+"' of '"+t+"'";this._oLogger.debug(h);return false}l=g===d;if(!l){this._oLogger.debug("The text '"+d+"' does not match the value '"+g+"' of the '"+r+"' property for '"+t+"'")}return l}})});