/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Matcher","./I18NText","sap/ui/test/Opa5"],function(e,t,r){"use strict";var a=new t;var i=e.extend("sap.ui.test.matchers.LabelFor",{metadata:{publicMethods:["isMatching"],properties:{text:{type:"string"},modelName:{type:"string",defaultValue:"i18n"},key:{type:"string"},parameters:{type:"any"},propertyName:{type:"string",defaultValue:"text"}}},isMatching:function(e){var t;var i=r.getPlugin();var n=this.getModelName();var s=this.getText();var o=this.getParameters();var g=this.getPropertyName();var l=this.getKey();if(s&&l){this._oLogger.error("Combination of text and key properties is not allowed");return false}if(!s&&!l){this._oLogger.error("Text and key properties are not defined but exactly one is required");return false}var p=i.getMatchingControls({controlType:"sap.m.Label",visible:false});a.applySettings({key:l,modelName:n,parameters:o,propertyName:g});t=p.some(function(t){if(l&&a.isMatching(t)){return e.getId()===t.getLabelForRendering()}else if(s&&t.getText()===s){return e.getId()===t.getLabelForRendering()}});if(!t){var d=l?"I18N text key "+l:"text "+s;this._oLogger.debug("Control '"+e+"' does not have an associated label with "+d)}return t}});return i});