/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/bootstrap/Info","sap/base/util/extend","sap/base/Log"],function(e,r,a){"use strict";function o(e){for(var r in e){var a=e[r];var o=r.toLowerCase();if(!e.hasOwnProperty(o)){e[o]=a;delete e[r]}}return e}function t(e){var r="sap-ui-config.json",o;a.warning('Loading external bootstrap configuration from "'+e+'". This is a design time feature and not for productive usage!');if(e!==r){a.warning('The external bootstrap configuration file should be named "'+r+'"!')}var t=new XMLHttpRequest;t.addEventListener("load",function(r){if(t.status===200&&t.responseText){try{o=JSON.parse(t.responseText)}catch(r){a.error('Parsing externalized bootstrap configuration from "'+e+'" failed! Reason: '+r+"!")}}else{a.error('Loading externalized bootstrap configuration from "'+e+'" failed! Response: '+t.status+"!")}});t.open("GET",e,false);try{t.send()}catch(r){a.error('Loading externalized bootstrap configuration from "'+e+'" failed! Reason: '+r+"!")}o=o||{};o.__loaded=true;return o}var s=e.tag,i=window["sap-ui-config"];if(typeof i==="string"){i=t(i)}i=o(i||{});i.resourceroots=i.resourceroots||{};i.themeroots=i.themeroots||{};i.resourceroots[""]=i.resourceroots[""]||e.resourceRoot;if(/(^|\/)(sap-?ui5|[^\/]+-all).js([?#]|$)/.test(e.url)){a.error("The all-in-one file 'sap-ui-core-all.js' has been abandoned in favour of standard preloads."+" Please migrate to sap-ui-core.js and consider to use async preloads.");i.preload="sync"}if(s){var n=s.getAttribute("data-sap-ui-config");if(n){try{var u;try{u=JSON.parse("{"+n+"}")}catch(e){a.error("JSON.parse on the data-sap-ui-config attribute failed. Please check the config for JSON syntax violations.");u=new Function("return {"+n+"};")()}r(i,o(u))}catch(e){a.error("failed to parse data-sap-ui-config attribute: "+(e.message||e))}}for(var f=0;f<s.attributes.length;f++){var c=s.attributes[f];var d=c.name.match(/^data-sap-ui-(.*)$/);if(d){d=d[1].toLowerCase();if(d==="resourceroots"){r(i[d],JSON.parse(c.value))}else if(d==="theme-roots"){r(i.themeroots,JSON.parse(c.value))}else if(d!=="config"){i[d]=c.value}}}}return i});