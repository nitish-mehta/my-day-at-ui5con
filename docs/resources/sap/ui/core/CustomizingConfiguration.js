/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./Core","./Component"],function(n,t,e){"use strict";var o="sap.ui.viewReplacements",i="sap.ui.viewExtensions",a="sap.ui.viewModifications",r="sap.ui.controllerExtensions",u="sap.ui.controllerReplacements";var s={};function f(t,o,i){var a=o&&typeof o==="string"?o:o&&e.getOwnerIdFor(o);if(a){var r=e.get(a);var u=r&&r.getMetadata().getComponentName();var f=s[u+"::"+a];if(f&&f[t]&&i(f[t])){return false}else{f=s[u];if(f&&f[t]&&i(f[t])){return false}}}else{n.each(s,function(n,e){if(e&&e[t]&&i(e[t])){return false}})}}var g={log:function(){if(window.console){window.console.log(s)}},activateForComponent:function(t){n.sap.log.info("CustomizingConfiguration: activateForComponent('"+t+"')");var e=t+".Component";n.sap.require(e);var o=n.sap.getObject(e).getMetadata().getCustomizing();s[t]=o;n.sap.log.debug("CustomizingConfiguration: customizing configuration for component '"+t+"' loaded: "+JSON.stringify(o))},deactivateForComponent:function(t){if(s[t]){n.sap.log.info("CustomizingConfiguration: deactivateForComponent('"+t+"')");delete s[t]}},activateForComponentInstance:function(t){n.sap.log.info("CustomizingConfiguration: activateForComponentInstance('"+t.getId()+"')");var e=t.getMetadata().getComponentName(),o=e+"::"+t.getId(),i=t.getManifest()["sap.ui5"]&&t.getManifest()["sap.ui5"]["extends"]&&t.getManifest()["sap.ui5"]["extends"]["extensions"];s[o]=i;n.sap.log.debug("CustomizingConfiguration: customizing configuration for component '"+o+"' loaded: "+JSON.stringify(i))},deactivateForComponentInstance:function(t){var e=t.getMetadata().getComponentName(),o=e+"::"+t.getId();if(s[o]){n.sap.log.info("CustomizingConfiguration: deactivateForComponent('"+o+"')");delete s[o]}},getViewReplacement:function(n,t){var e;f(o,t,function(t){e=t[n];return!!e});return e},getViewExtension:function(n,t,e){var o;f(i,e,function(e){o=e[n]&&e[n][t];return!!o});return o},getControllerExtension:function(n,t){var e;f(r,t,function(t){e=t[n];return!!e});return e},getControllerReplacement:function(n,t){var e;f(u,t,function(t){e=t[n];return!!e});return e},getCustomProperties:function(t,e,o){var i;f(a,o,function(o){var a=o[t]&&o[t][e];var r={};var u=false;if(a){n.each(a,function(o,i){if(o==="visible"){u=true;r[o]=i;n.sap.log.info("Customizing: custom value for property '"+o+"' of control '"+e+"' in View '"+t+"' applied: "+i)}else{n.sap.log.warning("Customizing: custom value for property '"+o+"' of control '"+e+"' in View '"+t+"' ignored: only the 'visible' property can be customized.")}});if(u){i=i||{};n.extend(i,r)}}});return i},hasCustomProperties:function(t,e){var o={};f(a,e,function(n){if(!!n[t]){o=n[t]}});return!n.isEmptyObject(o)}};if(sap.ui.getCore().getConfiguration().getDisableCustomizing()){n.sap.log.info("CustomizingConfiguration: disabling Customizing now");n.each(g,function(n,t){if(typeof t==="function"){g[n]=function(){}}})}return g},true);