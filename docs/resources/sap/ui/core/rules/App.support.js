/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/support/library"],function(e,r){"use strict";var n=r.Categories;var t=r.Severity;var a=r.Audiences;var o=["jQuery.sap.require","$.sap.require","sap.ui.requireSync","jQuery.sap.sjax"];if(e&&e.sap&&e.sap.sjax){o.push("jQuery.sap.syncHead","jQuery.sap.syncGet","jQuery.sap.syncPost","jQuery.sap.syncGetText","jQuery.sap.syncGetJSON")}var i={id:"controllerSyncCodeCheck",audiences:[a.Internal],categories:[n.Consistency],enabled:true,minversion:"1.32",title:"Synchronous calls in controller code",description:"Synchronous calls are deprecated within the Google Chrome browser and block the UI.",resolution:"Use asynchronous XHR calls instead",resolutionurls:[{text:"Documentation: Loading a Module",href:"https://sapui5.hana.ondemand.com/#docs/guide/d12024e38385472a89c1ad204e1edb48.html"}],check:function(e,r,n){var a=n.getElementsByClassName(sap.ui.core.mvc.View);var i=[];a.forEach(function(e){if(e.getController){var r=e.getController();if(r){i.push({controller:r,viewId:e.getId()})}}});var s=function(e,r,n,t){var a=[];Object.keys(e).forEach(function(a){var o=e[a].toString().replace(/(\r\n|\n|\r)/gm,"");n.forEach(function(n){if(o.indexOf(n)>0){t(e.getMetadata().getName(),a,n,r)}})});return a};var c={};i.forEach(function(e){var r=function(e,r,n,t){c[t]=c[t]||[];c[t].push({controllerName:e,functionName:r,invalidContent:n})};var n=e.controller;while(n){s(n,e.viewId,o,r);var t=Object.getPrototypeOf(n);if(n===t||t===sap.ui.core.mvc.Controller.prototype){break}n=t}});Object.keys(c).forEach(function(r){var n=c[r];e.addIssue({severity:t.Medium,details:n.map(function(e){return"\nSynchronous call "+e.invalidContent+" found in "+e.controllerName+"#"+e.functionName}),context:{id:r}})})}};return i},true);