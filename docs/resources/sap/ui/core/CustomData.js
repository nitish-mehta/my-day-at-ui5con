/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./Element","./library"],function(t,e,a){"use strict";var r=a.ID;var i=e.extend("sap.ui.core.CustomData",{metadata:{library:"sap.ui.core",properties:{key:{type:"string",group:"Data",defaultValue:null},value:{type:"any",group:"Data",defaultValue:null},writeToDom:{type:"boolean",group:"Data",defaultValue:false}},designtime:"sap/ui/core/designtime/CustomData.designtime"}});i.prototype.setValue=function(t){this.setProperty("value",t,true);var e=this.getParent();if(e&&e.getDomRef()){var a=this._checkWriteToDom(e);if(a){e.$().attr(a.key,a.value)}}return this};i.prototype._checkWriteToDom=function(e){if(!this.getWriteToDom()){return null}var a=this.getKey();var i=this.getValue();if(typeof i!="string"){t.sap.log.error("CustomData with key "+a+" should be written to HTML of "+e+" but the value is not a string.");return null}if(!r.isValid(a)||a.indexOf(":")!=-1){t.sap.log.error("CustomData with key "+a+" should be written to HTML of "+e+" but the key is not valid (must be a valid sap.ui.core.ID without any colon).");return null}if(a==t.sap._FASTNAVIGATIONKEY){i=/^\s*(x|true)\s*$/i.test(i)?"true":"false"}else if(a.indexOf("sap-ui")==0){t.sap.log.error("CustomData with key "+a+" should be written to HTML of "+e+" but the key is not valid (may not start with 'sap-ui').");return null}return{key:"data-"+a,value:i}};return i});