/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Locale","sap/ui/core/LocaleData"],function(t,e){"use strict";var r=function(){throw new Error};r.oDefaultListFormat={type:"standard",style:"wide"};r.getInstance=function(t,e){return this.createInstance(t,e)};r.createInstance=function(r,a){var o=Object.create(this.prototype);if(r instanceof t){a=r;r=undefined}if(!a){a=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()}o.oLocale=a;o.oLocaleData=e.getInstance(a);o.oOriginalFormatOptions=jQuery.extend({},this.oDefaultListFormat,r);return o};r.prototype.format=function(t){if(!Array.isArray(t)){jQuery.sap.log.error("ListFormat can only format with an array given.");return""}var e=this.oOriginalFormatOptions,r,a,o,n,i,s,l=[].concat(t),p,c;r=this.oLocaleData.getListFormat(e.type,e.style);if(jQuery.isEmptyObject(r)){jQuery.sap.log.error("No list pattern exists for the provided format options (type, style).");return""}function u(t,e){var r=t[0];for(var a=1;a<t.length;a++){r=e.replace("{0}",r);r=r.replace("{1}",t[a])}return r}if(r[l.length]){a=r[l.length];for(var f=0;f<l.length;f++){a=a.replace("{"+f+"}",l[f])}o=a}else if(l.length<2){o=l.toString()}else{p=l.shift();s=l.pop();c=l;n=r.start.replace("{0}",p);s=r.end.replace("{1}",s);i=u(c,r.middle);o=n.replace("{1}",s.replace("{0}",i))}return o};r.prototype.parse=function(t){if(typeof t!=="string"){jQuery.sap.log.error("ListFormat can only parse a String.");return[]}var e=[],a=[],o=[],n=[],i=[],s=this.oOriginalFormatOptions,l,p=/\{[01]\}/g,c,u,f,g,y;if(!s){s=r.oDefaultListFormat}l=this.oLocaleData.getListFormat(s.type,s.style);if(jQuery.isEmptyObject(l)){jQuery.sap.log.error("No list pattern exists for the provided format options (type, style).");return[]}f=l.start.replace(p,"");g=l.middle.replace(p,"");y=l.end.replace(p,"");a=t.split(f);e=e.concat(a.shift());n=a.join(f).split(y);c=n.pop();o=n.join(y).split(g);e=e.concat(o);e.push(c);if(a.length<1||o.length<1||n.length<1){u=l["2"].replace(p,"");i=t.split(u);if(i.length===2){return i}if(t){return[t]}else{return[]}}return e};return r});