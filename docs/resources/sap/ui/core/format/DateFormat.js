/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/date/UniversalDate","jquery.sap.strings"],function(e,t,a,r,n){"use strict";var i=t.CalendarType;var s=function(){throw new Error};var o={};s.oDateInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"day",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"yyyy-MM-dd"},{pattern:"yyyyMMdd",strictParsing:true}],bShortFallbackFormatOptions:true,bPatternFallbackWithoutDelimiter:true,getPattern:function(e,t,a){return e.getDatePattern(t,a)},oRequiredParts:{text:true,year:true,weekYear:true,month:true,day:true},aRelativeScales:["year","month","week","day"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["FullYear","Quarter","Month","Week","Date"]};s.oDateTimeInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"auto",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"yyyy-MM-dd'T'HH:mm:ss"},{pattern:"yyyyMMdd HHmmss"}],getPattern:function(e,t,a){var r=t.indexOf("/");if(r>0){return e.getCombinedDateTimePattern(t.substr(0,r),t.substr(r+1),a)}else{return e.getCombinedDateTimePattern(t,t,a)}},oRequiredParts:{text:true,year:true,weekYear:true,month:true,day:true,hour0_23:true,hour1_24:true,hour0_11:true,hour1_12:true},aRelativeScales:["year","month","week","day","hour","minute","second"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["FullYear","Quarter","Month","Week","Date","DayPeriod","Hours","Minutes","Seconds"]};s.oTimeInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"auto",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"HH:mm:ss"},{pattern:"HHmmss"}],getPattern:function(e,t,a){return e.getTimePattern(t,a)},oRequiredParts:{text:true,hour0_23:true,hour1_24:true,hour0_11:true,hour1_12:true},aRelativeScales:["hour","minute","second"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["DayPeriod","Hours","Minutes","Seconds"]};s.getInstance=function(e,t){return this.getDateInstance(e,t)};s.getDateInstance=function(e,t){return this.createInstance(e,t,this.oDateInfo)};s.getDateTimeInstance=function(e,t){return this.createInstance(e,t,this.oDateTimeInfo)};s.getTimeInstance=function(e,t){return this.createInstance(e,t,this.oTimeInfo)};function l(e){var t=e.oLocaleData.getIntervalPattern("",e.oFormatOptions.calendarType);t=t.replace(/[^\{\}01 ]/,"-");return t.replace(/\{(0|1)\}/g,e.oFormatOptions.pattern)}s.createInstance=function(t,n,i){var o=Object.create(this.prototype);if(t instanceof a){n=t;t=undefined}if(!n){n=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()}o.oLocale=n;o.oLocaleData=r.getInstance(n);o.oFormatOptions=e.extend(false,{},i.oDefaultFormatOptions,t);if(!o.oFormatOptions.calendarType){o.oFormatOptions.calendarType=sap.ui.getCore().getConfiguration().getCalendarType()}if(!o.oFormatOptions.pattern){if(o.oFormatOptions.format){o.oFormatOptions.pattern=o.oLocaleData.getCustomDateTimePattern(o.oFormatOptions.format,o.oFormatOptions.calendarType)}else{o.oFormatOptions.pattern=i.getPattern(o.oLocaleData,o.oFormatOptions.style,o.oFormatOptions.calendarType)}}if(o.oFormatOptions.interval){if(o.oFormatOptions.format){o.intervalPatterns=o.oLocaleData.getCustomIntervalPattern(o.oFormatOptions.format,null,o.oFormatOptions.calendarType);if(typeof o.intervalPatterns==="string"){o.intervalPatterns=[o.intervalPatterns]}o.intervalPatterns.push(o.oLocaleData.getCustomDateTimePattern(o.oFormatOptions.format,o.oFormatOptions.calendarType))}else{o.intervalPatterns=[o.oLocaleData.getCombinedIntervalPattern(o.oFormatOptions.pattern,o.oFormatOptions.calendarType),o.oFormatOptions.pattern]}var u=l(o);o.intervalPatterns.push(u)}if(!o.oFormatOptions.fallback){if(!i.oFallbackFormats){i.oFallbackFormats={}}var f=n.toString(),d=o.oFormatOptions.calendarType,h=f+"-"+d,c,g;if(o.oFormatOptions.pattern&&i.bPatternFallbackWithoutDelimiter){h=h+"-"+o.oFormatOptions.pattern}if(o.oFormatOptions.interval){h=h+"-"+"interval"}if(!i.oFallbackFormats[h]){g=i.aFallbackFormatOptions;if(i.bShortFallbackFormatOptions){c=i.getPattern(o.oLocaleData,"short");g=g.concat(s._createFallbackOptionsWithoutDelimiter(c))}if(o.oFormatOptions.pattern&&i.bPatternFallbackWithoutDelimiter){g=s._createFallbackOptionsWithoutDelimiter(o.oFormatOptions.pattern).concat(g)}i.oFallbackFormats[h]=s._createFallbackFormat(g,d,n,i,o.oFormatOptions.interval)}o.aFallbackFormats=i.oFallbackFormats[h]}o.oRequiredParts=i.oRequiredParts;o.aRelativeScales=i.aRelativeScales;o.aRelativeParseScales=i.aRelativeParseScales;o.aIntervalCompareFields=i.aIntervalCompareFields;o.init();return o};s.prototype.init=function(){var e=this.oFormatOptions.calendarType;this.aMonthsAbbrev=this.oLocaleData.getMonths("abbreviated",e);this.aMonthsWide=this.oLocaleData.getMonths("wide",e);this.aMonthsNarrow=this.oLocaleData.getMonths("narrow",e);this.aMonthsAbbrevSt=this.oLocaleData.getMonthsStandAlone("abbreviated",e);this.aMonthsWideSt=this.oLocaleData.getMonthsStandAlone("wide",e);this.aMonthsNarrowSt=this.oLocaleData.getMonthsStandAlone("narrow",e);this.aDaysAbbrev=this.oLocaleData.getDays("abbreviated",e);this.aDaysWide=this.oLocaleData.getDays("wide",e);this.aDaysNarrow=this.oLocaleData.getDays("narrow",e);this.aDaysShort=this.oLocaleData.getDays("short",e);this.aDaysAbbrevSt=this.oLocaleData.getDaysStandAlone("abbreviated",e);this.aDaysWideSt=this.oLocaleData.getDaysStandAlone("wide",e);this.aDaysNarrowSt=this.oLocaleData.getDaysStandAlone("narrow",e);this.aDaysShortSt=this.oLocaleData.getDaysStandAlone("short",e);this.aQuartersAbbrev=this.oLocaleData.getQuarters("abbreviated",e);this.aQuartersWide=this.oLocaleData.getQuarters("wide",e);this.aQuartersNarrow=this.oLocaleData.getQuarters("narrow",e);this.aQuartersAbbrevSt=this.oLocaleData.getQuartersStandAlone("abbreviated",e);this.aQuartersWideSt=this.oLocaleData.getQuartersStandAlone("wide",e);this.aQuartersNarrowSt=this.oLocaleData.getQuartersStandAlone("narrow",e);this.aErasNarrow=this.oLocaleData.getEras("narrow",e);this.aErasAbbrev=this.oLocaleData.getEras("abbreviated",e);this.aErasWide=this.oLocaleData.getEras("wide",e);this.aDayPeriods=this.oLocaleData.getDayPeriods("abbreviated",e);this.aFormatArray=this.parseCldrDatePattern(this.oFormatOptions.pattern);this.sAllowedCharacters=this.getAllowedCharacters(this.aFormatArray)};s._createFallbackFormat=function(e,t,a,r,n){return e.map(function(e){if(n){e.interval=true}e.calendarType=t;e.fallback=true;var i=s.createInstance(e,a,r);i.bIsFallback=true;return i})};s._createFallbackOptionsWithoutDelimiter=function(e){var t=/[^dMyGU]/g,a={regex:/d+/g,replace:"dd"},r={regex:/M+/g,replace:"MM"},n={regex:/[yU]+/g,replace:["yyyy","yy"]};e=e.replace(t,"");e=e.replace(a.regex,a.replace);e=e.replace(r.regex,r.replace);return n.replace.map(function(t){return{pattern:e.replace(n.regex,t),strictParsing:true}})};var u={isNumber:function(e){return e>=48&&e<=57},findNumbers:function(e,t){var a=0;while(a<t&&this.isNumber(e.charCodeAt(a))){a++}if(typeof e!=="string"){e=e.toString()}return e.substr(0,a)},findEntry:function(e,t){var a=-1,r=0;for(var n=0;n<t.length;n++){if(t[n]&&t[n].length>r&&e.indexOf(t[n])===0){a=n;r=t[n].length}}return{index:a,value:a===-1?null:t[a]}},parseTZ:function(e,t){var a=0;var r=e.charAt(0)=="+"?-1:1;var n;a++;n=this.findNumbers(e.substr(a),2);var i=parseInt(n,10);a+=2;if(t){a++}n=this.findNumbers(e.substr(a),2);a+=2;var s=parseInt(n,10);return{length:a,tzDiff:(s+60*i)*r}},checkValid:function(e,t,a){if(e in a.oRequiredParts&&t){return false}}};s.prototype.oSymbols={"":{name:"text",format:function(e,t,a,r){return e.value},parse:function(e,t,a,r){var n;var i=true;var s=0;var o=0;for(;o<t.value.length;o++){n=t.value.charAt(o);if(n!==" "){if(e.charAt(s)!==n){i=false}s++}else{while(e.charAt(s)===" "){s++}}if(!i){break}}if(i){return{length:s}}else{var l=false;if(r.index<r.formatArray.length-1){l=r.formatArray[r.index+1].type in a.oRequiredParts}return{valid:u.checkValid(t.type,l,a)}}}},G:{name:"era",format:function(e,t,a,r){var n=a?t.getUTCEra():t.getEra();if(e.digits<=3){return r.aErasAbbrev[n]}else if(e.digits===4){return r.aErasWide[n]}else{return r.aErasNarrow[n]}},parse:function(e,t,a,r){var n=[a.aErasWide,a.aErasAbbrev,a.aErasNarrow];for(var i=0;i<n.length;i++){var s=n[i];var o=u.findEntry(e,s);if(o.index!==-1){return{era:o.index,length:o.value.length}}}return{era:a.aErasWide.length-1,valid:u.checkValid(t.type,true,a)}}},y:{name:"year",format:function(t,a,r,n){var s=r?a.getUTCFullYear():a.getFullYear();var o=String(s);var l=n.oFormatOptions.calendarType;if(t.digits==2&&o.length>2){o=o.substr(o.length-2)}if(l!=i.Japanese&&t.digits==1&&s<100){o=e.sap.padLeft(o,"0",4)}return e.sap.padLeft(o,"0",t.digits)},parse:function(e,t,a,r){var s=a.oFormatOptions.calendarType;var o;if(t.digits==1){o=u.findNumbers(e,4)}else if(t.digits==2){o=u.findNumbers(e,2)}else{o=u.findNumbers(e,t.digits)}var l=parseInt(o,10);if(s!=i.Japanese&&o.length<=2){var f=n.getInstance(new Date,s),d=f.getFullYear(),h=Math.floor(d/100),c=h*100+l-d;if(c<-70){l+=(h+1)*100}else if(c<30){l+=h*100}else{l+=(h-1)*100}}return{length:o.length,valid:u.checkValid(t.type,o==="",a),year:l}}},Y:{name:"weekYear",format:function(t,a,r,n){var s=r?a.getUTCWeek():a.getWeek();var o=s.year;var l=String(o);var u=n.oFormatOptions.calendarType;if(t.digits==2&&l.length>2){l=l.substr(l.length-2)}if(u!=i.Japanese&&t.digits==1&&o<100){l=e.sap.padLeft(l,"0",4)}return e.sap.padLeft(l,"0",t.digits)},parse:function(e,t,a,r){var s=a.oFormatOptions.calendarType;var o;if(t.digits==1){o=u.findNumbers(e,4)}else if(t.digits==2){o=u.findNumbers(e,2)}else{o=u.findNumbers(e,t.digits)}var l=parseInt(o,10);var f;if(s!=i.Japanese&&o.length<=2){var d=n.getInstance(new Date,s),h=d.getFullYear(),c=Math.floor(h/100),g=c*100+f-h;if(g<-70){f+=(c+1)*100}else if(g<30){f+=c*100}else{f+=(c-1)*100}}return{length:o.length,valid:u.checkValid(t.type,o==="",a),year:l,weekYear:f}}},M:{name:"month",format:function(t,a,r,n){var i=r?a.getUTCMonth():a.getMonth();if(t.digits==3){return n.aMonthsAbbrev[i]}else if(t.digits==4){return n.aMonthsWide[i]}else if(t.digits>4){return n.aMonthsNarrow[i]}else{return e.sap.padLeft(String(i+1),"0",t.digits)}},parse:function(e,t,a,r){var n=[a.aMonthsWide,a.aMonthsWideSt,a.aMonthsAbbrev,a.aMonthsAbbrevSt,a.aMonthsNarrow,a.aMonthsNarrowSt];var i;var s;var o;if(t.digits<3){o=u.findNumbers(e,Math.max(t.digits,2));i=u.checkValid(t.type,o==="",a);s=parseInt(o,10)-1;if(r.strict&&(s>11||s<0)){i=false}}else{for(var l=0;l<n.length;l++){var f=n[l];var d=u.findEntry(e,f);if(d.index!==-1){return{month:d.index,length:d.value.length}}}i=u.checkValid(t.type,true,a)}return{month:s,length:o?o.length:0,valid:i}}},L:{name:"monthStandalone",format:function(t,a,r,n){var i=r?a.getUTCMonth():a.getMonth();if(t.digits==3){return n.aMonthsAbbrevSt[i]}else if(t.digits==4){return n.aMonthsWideSt[i]}else if(t.digits>4){return n.aMonthsNarrowSt[i]}else{return e.sap.padLeft(String(i+1),"0",t.digits)}},parse:function(e,t,a,r){var n=[a.aMonthsWide,a.aMonthsWideSt,a.aMonthsAbbrev,a.aMonthsAbbrevSt,a.aMonthsNarrow,a.aMonthsNarrowSt];var i;var s;var o;if(t.digits<3){o=u.findNumbers(e,Math.max(t.digits,2));i=u.checkValid(t.type,o==="",a);s=parseInt(o,10)-1;if(r.strict&&(s>11||s<0)){i=false}}else{for(var l=0;l<n.length;l++){var f=n[l];var d=u.findEntry(e,f);if(d.index!==-1){return{month:d.index,length:d.value.length}}}i=u.checkValid(t.type,true,a)}return{month:s,length:o?o.length:0,valid:i}}},w:{name:"weekInYear",format:function(t,a,r,n){var i=r?a.getUTCWeek():a.getWeek();var s=i.week;var o=String(s+1);if(t.digits<3){o=e.sap.padLeft(o,"0",t.digits)}else{o=n.oLocaleData.getCalendarWeek(t.digits===3?"narrow":"wide",e.sap.padLeft(o,"0",2))}return o},parse:function(e,t,a,r){var n;var i;var s;var o=0;if(t.digits<3){i=u.findNumbers(e,2);o=i.length;s=parseInt(i,10)-1;n=u.checkValid(t.type,!i,a)}else{i=a.oLocaleData.getCalendarWeek(t.digits===3?"narrow":"wide");i=i.replace("{0}","[0-9]+");var l=new RegExp(i),f=l.exec(e);if(f){o=f[0].length;s=parseInt(f[0],10)-1}else{n=u.checkValid(t.type,true,a)}}return{length:o,valid:n,week:s}}},W:{name:"weekInMonth",format:function(e,t,a,r){return""},parse:function(){return{}}},D:{name:"dayInYear",format:function(e,t,a,r){},parse:function(){return{}}},d:{name:"day",format:function(t,a,r,n){var i=r?a.getUTCDate():a.getDate();return e.sap.padLeft(String(i),"0",t.digits)},parse:function(e,t,a,r){var n=u.findNumbers(e,Math.max(t.digits,2));var i=u.checkValid(t.type,n==="",a);var s=parseInt(n,10);if(r.strict&&(s>31||s<1)){i=false}return{day:s,length:n.length,valid:i}}},Q:{name:"quarter",format:function(t,a,r,n){var i=r?a.getUTCQuarter():a.getQuarter();if(t.digits==3){return n.aQuartersAbbrev[i]}else if(t.digits==4){return n.aQuartersWide[i]}else if(t.digits>4){return n.aQuartersNarrow[i]}else{return e.sap.padLeft(String(i+1),"0",t.digits)}},parse:function(e,t,a,r){var n;var i;var s;var o=[a.aQuartersWide,a.aQuartersWideSt,a.aQuartersAbbrev,a.aQuartersAbbrevSt,a.aQuartersNarrow,a.aQuartersNarrowSt];if(t.digits<3){s=u.findNumbers(e,Math.max(t.digits,2));n=u.checkValid(t.type,s==="",a);i=parseInt(s,10)-1;if(r.strict&&i>3){n=false}}else{for(var l=0;l<o.length;l++){var f=o[l];var d=u.findEntry(e,f);if(d.index!==-1){return{quarter:d.index,length:d.value.length}}}n=u.checkValid(t.type,true,a)}return{length:s?s.length:0,quarter:i,valid:n}}},q:{name:"quarterStandalone",format:function(t,a,r,n){var i=r?a.getUTCQuarter():a.getQuarter();if(t.digits==3){return n.aQuartersAbbrevSt[i]}else if(t.digits==4){return n.aQuartersWideSt[i]}else if(t.digits>4){return n.aQuartersNarrowSt[i]}else{return e.sap.padLeft(String(i+1),"0",t.digits)}},parse:function(e,t,a,r){var n;var i;var s;var o=[a.aQuartersWide,a.aQuartersWideSt,a.aQuartersAbbrev,a.aQuartersAbbrevSt,a.aQuartersNarrow,a.aQuartersNarrowSt];if(t.digits<3){s=u.findNumbers(e,Math.max(t.digits,2));n=u.checkValid(t.type,s==="",a);i=parseInt(s,10)-1;if(r.strict&&i>3){n=false}}else{for(var l=0;l<o.length;l++){var f=o[l];var d=u.findEntry(e,f);if(d.index!==-1){return{quarter:d.index,length:d.value.length}}}n=u.checkValid(t.type,true,a)}return{length:s?s.length:0,quarter:i,valid:n}}},F:{name:"dayOfWeekInMonth",format:function(e,t,a,r){return""},parse:function(){return{}}},E:{name:"dayNameInWeek",format:function(e,t,a,r){var n=a?t.getUTCDay():t.getDay();if(e.digits<4){return r.aDaysAbbrev[n]}else if(e.digits==4){return r.aDaysWide[n]}else if(e.digits==5){return r.aDaysNarrow[n]}else{return r.aDaysShort[n]}},parse:function(e,t,a,r){var n=[a.aDaysWide,a.aDaysWideSt,a.aDaysAbbrev,a.aDaysAbbrevSt,a.aDaysShort,a.aDaysShortSt,a.aDaysNarrow,a.aDaysNarrowSt];for(var i=0;i<n.length;i++){var s=n[i];var o=u.findEntry(e,s);if(o.index!==-1){return{dayNumberOfWeek:a._adaptDayOfWeek(o.index),length:o.value.length}}}}},c:{name:"dayNameInWeekStandalone",format:function(e,t,a,r){var n=a?t.getUTCDay():t.getDay();if(e.digits<4){return r.aDaysAbbrevSt[n]}else if(e.digits==4){return r.aDaysWideSt[n]}else if(e.digits==5){return r.aDaysNarrowSt[n]}else{return r.aDaysShortSt[n]}},parse:function(e,t,a,r){var n=[a.aDaysWide,a.aDaysWideSt,a.aDaysAbbrev,a.aDaysAbbrevSt,a.aDaysShort,a.aDaysShortSt,a.aDaysNarrow,a.aDaysNarrowSt];for(var i=0;i<n.length;i++){var s=n[i];var o=u.findEntry(e,s);if(o.index!==-1){return{day:o.index,length:o.value.length}}}}},u:{name:"dayNumberOfWeek",format:function(e,t,a,r){var n=a?t.getUTCDay():t.getDay();return r._adaptDayOfWeek(n)},parse:function(e,t,a,r){var n=u.findNumbers(e,t.digits);return{dayNumberOfWeek:parseInt(n,10),length:n.length}}},a:{name:"amPmMarker",format:function(e,t,a,r){var n=a?t.getUTCDayPeriod():t.getDayPeriod();return r.aDayPeriods[n]},parse:function(e,t,a,r){var n;var i;var s=a.aDayPeriods[0],o=a.aDayPeriods[1];var l=/[aApP](?:\.)?[mM](?:\.)?/;var u=e.match(l);var f=u&&u.index===0;if(f){e=u[0].replace(/\./g,"").toLowerCase()+e.substring(u[0].length);s=s.toLowerCase();o=o.toLowerCase()}if(e.indexOf(s)===0){n=false;i=f?u[0].length:s.length}else if(e.indexOf(o)===0){n=true;i=f?u[0].length:o.length}return{pm:n,length:i}}},H:{name:"hour0_23",format:function(t,a,r,n){var i=r?a.getUTCHours():a.getHours();return e.sap.padLeft(String(i),"0",t.digits)},parse:function(e,t,a,r){var n;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);n=u.checkValid(t.type,i==="",a);if(r.strict&&s>23){n=false}return{hour:s,length:i.length,valid:n}}},k:{name:"hour1_24",format:function(t,a,r,n){var i=r?a.getUTCHours():a.getHours();var s=i===0?"24":String(i);return e.sap.padLeft(s,"0",t.digits)},parse:function(e,t,a,r){var n;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);n=u.checkValid(t.type,i==="",a);if(s==24){s=0}if(r.strict&&s>23){n=false}return{hour:s,length:i.length,valid:n}}},K:{name:"hour0_11",format:function(t,a,r,n){var i=r?a.getUTCHours():a.getHours();var s=String(i>11?i-12:i);return e.sap.padLeft(s,"0",t.digits)},parse:function(e,t,a,r){var n;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);n=u.checkValid(t.type,i==="",a);if(r.strict&&s>11){n=false}return{hour:s,length:i.length,valid:n}}},h:{name:"hour1_12",format:function(t,a,r,n){var i=r?a.getUTCHours():a.getHours();var s;if(i>12){s=String(i-12)}else if(i==0){s="12"}else{s=String(i)}return e.sap.padLeft(s,"0",t.digits)},parse:function(e,t,a,r){var n=r.dateValue.pm;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);var o=u.checkValid(t.type,i==="",a);if(s==12){s=0;n=n===undefined?true:n}if(r.strict&&s>11){o=false}return{hour:s,length:i.length,pm:n,valid:o}}},m:{name:"minute",format:function(t,a,r,n){var i=r?a.getUTCMinutes():a.getMinutes();return e.sap.padLeft(String(i),"0",t.digits)},parse:function(e,t,a,r){var n;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);n=u.checkValid(t.type,i==="",a);if(r.strict&&s>59){n=false}return{length:i.length,minute:s,valid:n}}},s:{name:"second",format:function(t,a,r,n){var i=r?a.getUTCSeconds():a.getSeconds();return e.sap.padLeft(String(i),"0",t.digits)},parse:function(e,t,a,r){var n;var i=u.findNumbers(e,Math.max(t.digits,2));var s=parseInt(i,10);n=u.checkValid(t.type,i==="",a);if(r.strict&&s>59){n=false}return{length:i.length,second:s,valid:n}}},S:{name:"fractionalsecond",format:function(t,a,r,n){var i=r?a.getUTCMilliseconds():a.getMilliseconds();var s=String(i);var o=e.sap.padLeft(s,"0",3);o=o.substr(0,t.digits);o=e.sap.padRight(o,"0",t.digits);return o},parse:function(t,a,r,n){var i=u.findNumbers(t,a.digits);var s=i.length;i=i.substr(0,3);i=e.sap.padRight(i,"0",3);var o=parseInt(i,10);return{length:s,millisecond:o}}},z:{name:"timezoneGeneral",format:function(t,a,r,n){if(t.digits>3&&a.getTimezoneLong()){return a.getTimezoneLong()}else if(a.getTimezoneShort()){return a.getTimezoneShort()}var i="GMT";var s=Math.abs(a.getTimezoneOffset());var o=a.getTimezoneOffset()>0;var l=Math.floor(s/60);var u=s%60;if(!r&&s!=0){i+=o?"-":"+";i+=e.sap.padLeft(String(l),"0",2);i+=":";i+=e.sap.padLeft(String(u),"0",2)}else{i+="Z"}return i},parse:function(e,t,a,r){var n=0;var i;var s=e.substring(0,3);if(s==="GMT"||s==="UTC"){n=3}else if(e.substring(0,2)==="UT"){n=2}else if(e.charAt(0)=="Z"){n=1;i=0}else{return{error:"cannot be parsed correcly by sap.ui.core.format.DateFormat: The given timezone is not supported!"}}if(e.charAt(0)!="Z"){var o=u.parseTZ(e.substr(n),true);n+=o.length;i=o.tzDiff}return{length:n,tzDiff:i}}},Z:{name:"timezoneRFC822",format:function(t,a,r,n){var i=Math.abs(a.getTimezoneOffset());var s=a.getTimezoneOffset()>0;var o=Math.floor(i/60);var l=i%60;var u="";if(!r&&i!=0){u+=s?"-":"+";u+=e.sap.padLeft(String(o),"0",2);u+=e.sap.padLeft(String(l),"0",2)}return u},parse:function(e,t,a,r){return u.parseTZ(e,false)}},X:{name:"timezoneISO8601",format:function(t,a,r,n){var i=Math.abs(a.getTimezoneOffset());var s=a.getTimezoneOffset()>0;var o=Math.floor(i/60);var l=i%60;var u="";if(!r&&i!=0){u+=s?"-":"+";u+=e.sap.padLeft(String(o),"0",2);u+=":";u+=e.sap.padLeft(String(l),"0",2)}else{u+="Z"}return u},parse:function(e,t,a,r){if(e.charAt(0)=="Z"){return{length:1,tzDiff:0}}else{return u.parseTZ(e,true)}}}};s.prototype._format=function(e,t){if(this.oFormatOptions.relative){var a=this.formatRelative(e,t,this.oFormatOptions.relativeRange);if(a){return a}}var r=this.oFormatOptions.calendarType;var i=n.getInstance(e,r);var s=[],o,l,u;for(var f=0;f<this.aFormatArray.length;f++){o=this.aFormatArray[f];u=o.symbol||"";s.push(this.oSymbols[u].format(o,i,t,this))}l=s.join("");if(sap.ui.getCore().getConfiguration().getOriginInfo()){l=new String(l);l.originInfo={source:"Common Locale Data Repository",locale:this.oLocale.toString(),style:this.oFormatOptions.style,pattern:this.oFormatOptions.pattern}}return l};s.prototype.format=function(t,a){if(a===undefined){a=this.oFormatOptions.UTC}if(Array.isArray(t)){if(!this.oFormatOptions.interval){e.sap.log.error("Non-interval DateFormat can't format more than one date instance.");return""}if(t.length!==2){e.sap.log.error("Interval DateFormat can only format with 2 date instances but "+t.length+" is given.");return""}var r=t.every(function(e){return e&&!isNaN(e.getTime())});if(!r){e.sap.log.error("At least one date instance which is passed to the interval DateFormat isn't valid.");return""}return this._formatInterval(t,a)}else{if(!t||isNaN(t.getTime())){e.sap.log.error("The given date instance isn't valid.");return""}if(this.oFormatOptions.interval){e.sap.log.error("Interval DateFormat expects an array with two dates for the first argument but only one date is given.");return""}return this._format(t,a)}};s.prototype._formatInterval=function(e,t){var a=this.oFormatOptions.calendarType;var r=n.getInstance(e[0],a);var i=n.getInstance(e[1],a);var s;var o;var l;var u=[];var f;var d=this._getGreatestDiffField([r,i],t);if(!d){return this._format(e[0],t)}if(this.oFormatOptions.format){f=this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format,d,a)}else{f=this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern,a)}this.aFormatArray=this.parseCldrDatePattern(f);s=r;for(var h=0;h<this.aFormatArray.length;h++){o=this.aFormatArray[h];l=o.symbol||"";if(o.repeat){s=i}u.push(this.oSymbols[l].format(o,s,t,this))}return u.join("")};var f={FullYear:"Year",Quarter:"Quarter",Month:"Month",Week:"Week",Date:"Day",DayPeriod:"DayPeriod",Hours:"Hour",Minutes:"Minute",Seconds:"Second"};s.prototype._getGreatestDiffField=function(t,a){var r=false,n={};this.aIntervalCompareFields.forEach(function(i){var s="get"+(a?"UTC":""),o=s+i,l=f[i],u=t[0][o].apply(t[0]),d=t[1][o].apply(t[1]);if(!e.sap.equal(u,d)){r=true;n[l]=true}});if(r){return n}return null};s.prototype._parse=function(t,a,r,n){var i=0,s,o,l;var u={valid:true};var f={formatArray:a,dateValue:u,strict:n};for(var d=0;d<a.length;d++){o=t.substr(i);s=a[d];f.index=d;l=this.oSymbols[s.symbol||""].parse(o,s,this,f)||{};u=e.extend(u,l);if(l.valid===false){break}i+=l.length||0}u.index=i;if(u.pm){u.hour+=12}if(u.quarter!==undefined&&u.month===undefined&&u.day===undefined){u.month=3*u.quarter;u.day=1}return u};s.prototype._parseInterval=function(e,t,a,r){var n,i,s;this.intervalPatterns.some(function(t){var o=this.parseCldrDatePattern(t);i=undefined;for(var l=0;l<o.length;l++){if(o[l].repeat){i=l;break}}if(i===undefined){s=this._parse(e,o,a,r);if(s.index===0||s.index<e.length){s.valid=false}if(s.valid===false){return}n=[s,s];return true}else{n=[];s=this._parse(e,o.slice(0,i),a,r);if(s.valid===false){return}n.push(s);var u=s.index;s=this._parse(e.substring(u),o.slice(i),a,r);if(s.index===0||s.index+u<e.length){s.valid=false}if(s.valid===false){return}n.push(s);return true}}.bind(this));return n};var d=function(e,t,a,r){var i,s=typeof e.year==="number"?e.year:1970;if(e.valid){if(a||e.tzDiff!==undefined){i=n.getInstance(new Date(0),t);i.setUTCEra(e.era||n.getCurrentEra(t));i.setUTCFullYear(s);i.setUTCMonth(e.month||0);i.setUTCDate(e.day||1);i.setUTCHours(e.hour||0);i.setUTCMinutes(e.minute||0);i.setUTCSeconds(e.second||0);i.setUTCMilliseconds(e.millisecond||0);if(r&&(e.day||1)!==i.getUTCDate()){e.valid=false;i=undefined}else{if(e.tzDiff){i.setUTCMinutes((e.minute||0)+e.tzDiff)}if(e.week!==undefined){i.setUTCWeek({year:e.weekYear||e.year,week:e.week});if(e.dayNumberOfWeek!==undefined){i.setUTCDate(i.getUTCDate()+e.dayNumberOfWeek-1)}}}}else{i=n.getInstance(new Date(1970,0,1,0,0,0),t);i.setEra(e.era||n.getCurrentEra(t));i.setFullYear(s);i.setMonth(e.month||0);i.setDate(e.day||1);i.setHours(e.hour||0);i.setMinutes(e.minute||0);i.setSeconds(e.second||0);i.setMilliseconds(e.millisecond||0);if(r&&(e.day||1)!==i.getDate()){e.valid=false;i=undefined}else if(e.week!==undefined){i.setWeek({year:e.weekYear||e.year,week:e.week});if(e.dayNumberOfWeek!==undefined){i.setDate(i.getDate()+e.dayNumberOfWeek-1)}}}if(e.valid){i=i.getJSDate();return i}}return null};function h(e,t){if(e===t){return e}var a={};Object.keys(e).forEach(function(t){a[t]=e[t]});Object.keys(t).forEach(function(e){if(!a.hasOwnProperty(e)){a[e]=t[e]}});return a}s.prototype.parse=function(t,a,r){t=e.trim(t);var n;var i=this.oFormatOptions.calendarType;if(a===undefined){a=this.oFormatOptions.UTC}if(r===undefined){r=this.oFormatOptions.strictParsing}if(!this.oFormatOptions.interval){var s=this.parseRelative(t,a);if(s){return s}n=this._parse(t,this.aFormatArray,a,r);if(n.index===0||n.index<t.length){n.valid=false}s=d(n,i,a,r);if(s){return s}}else{var o=this._parseInterval(t,i,a,r);var l,u;if(o&&o.length==2){var f=h(o[0],o[1]);var c=h(o[1],o[0]);l=d(f,i,a,r);u=d(c,i,a,r);if(l&&u){return[l,u]}}}if(!this.bIsFallback){var g;e.each(this.aFallbackFormats,function(e,n){g=n.parse(t,a,r);if(Array.isArray(g)){return!(g[0]&&g[1])}else{return!g}});return g}if(!this.oFormatOptions.interval){return null}else{return[null,null]}};s.prototype.parseCldrDatePattern=function(e){if(o[e]){return o[e]}var t=[],a,r=false,n=null,i="",s="",l={},u=false;for(a=0;a<e.length;a++){var f=e.charAt(a),d,h,c;if(r){if(f=="'"){h=e.charAt(a-1);c=e.charAt(a-2);d=e.charAt(a+1);if(h=="'"&&c!="'"){r=false}else if(d=="'"){a+=1}else{r=false;continue}}if(i=="text"){n.value+=f}else{n={type:"text",value:f};t.push(n);i="text"}}else{if(f=="'"){r=true}else if(this.oSymbols[f]){s=this.oSymbols[f].name;if(i==s){n.digits++}else{n={type:s,symbol:f,digits:1};t.push(n);i=s;if(!u){if(l[s]){n.repeat=true;u=true}else{l[s]=true}}}}else{if(i=="text"){n.value+=f}else{n={type:"text",value:f};t.push(n);i="text"}}}}o[e]=t;return t};s.prototype.parseRelative=function(e,t){var a,r,n,i,s;if(!e){return null}a=this.oLocaleData.getRelativePatterns(this.aRelativeParseScales,this.oFormatOptions.relativeStyle);for(var o=0;o<a.length;o++){r=a[o];n=new RegExp("^\\s*"+r.pattern.replace(/\{0\}/,"(\\d+)")+"\\s*$","i");i=n.exec(e);if(i){if(r.value!==undefined){return l(r.value,r.scale)}else{s=parseInt(i[1],10);return l(s*r.sign,r.scale)}}}function l(e,a){var r,n=new Date,i;if(t){r=n.getTime()}else{r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}i=new Date(r);switch(a){case"second":i.setUTCSeconds(i.getUTCSeconds()+e);break;case"minute":i.setUTCMinutes(i.getUTCMinutes()+e);break;case"hour":i.setUTCHours(i.getUTCHours()+e);break;case"day":i.setUTCDate(i.getUTCDate()+e);break;case"week":i.setUTCDate(i.getUTCDate()+e*7);break;case"month":i.setUTCMonth(i.getUTCMonth()+e);break;case"quarter":i.setUTCMonth(i.getUTCMonth()+e*3);break;case"year":i.setUTCFullYear(i.getUTCFullYear()+e);break}if(t){return i}else{return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}}};s.prototype.formatRelative=function(t,a,r){var n=new Date,i,s=this.oFormatOptions.relativeScale||"day",o,l,u;u=(t.getTime()-n.getTime())/1e3;if(this.oFormatOptions.relativeScale=="auto"){s=this._getScale(u,this.aRelativeScales)}if(!r){r=this._mRanges[s]}if(s=="year"||s=="month"||s=="day"){n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()));i=new Date(0);if(a){i.setUTCFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}else{i.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate())}t=i}o=this._getDifference(s,[n,t]);if(this.oFormatOptions.relativeScale!="auto"&&(o<r[0]||o>r[1])){return null}l=this.oLocaleData.getRelativePattern(s,o,u>0,this.oFormatOptions.relativeStyle);return e.sap.formatMessage(l,[Math.abs(o)])};s.prototype._mRanges={second:[-60,60],minute:[-60,60],hour:[-24,24],day:[-6,6],week:[-4,4],month:[-12,12],year:[-10,10]};s.prototype._mScales={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};s.prototype._getScale=function(e,t){var a,r;e=Math.abs(e);for(var n=0;n<t.length;n++){r=t[n];if(e>=this._mScales[r]){a=r;break}}if(!a){a=t[t.length-1]}return a};function c(e,t){var a=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],r;for(var n=t;n<a.length;n++){r="set"+a[t];e[r].apply(e,[0])}}var g={year:function(e,t){return t.getFullYear()-e.getFullYear()},month:function(e,t){return t.getMonth()-e.getMonth()+this.year(e,t)*12},week:function(e,t,a){var r=a._adaptDayOfWeek(e.getDay());var n=a._adaptDayOfWeek(t.getDay());c(e,3);c(t,3);return(t.getTime()-e.getTime()-(n-r)*a._mScales.day*1e3)/(a._mScales.week*1e3)},day:function(e,t,a){c(e,3);c(t,3);return(t.getTime()-e.getTime())/(a._mScales.day*1e3)},hour:function(e,t,a){c(e,4);c(t,4);return(t.getTime()-e.getTime())/(a._mScales.hour*1e3)},minute:function(e,t,a){c(e,5);c(t,5);return(t.getTime()-e.getTime())/(a._mScales.minute*1e3)},second:function(e,t,a){c(e,6);c(t,6);return(t.getTime()-e.getTime())/(a._mScales.second*1e3)}};s.prototype._adaptDayOfWeek=function(e){var t=this.oLocaleData.getFirstDayOfWeek();var a=e-(t-1);if(a<=0){a+=7}return a};s.prototype._getDifference=function(e,t){var a=t[0];var r=t[1];return Math.round(g[e](a,r,this))};s.prototype.getAllowedCharacters=function(e){if(this.oFormatOptions.relative){return""}var t="";var a=false;var r=false;var n;for(var i=0;i<this.aFormatArray.length;i++){n=this.aFormatArray[i];switch(n.type){case"text":if(t.indexOf(n.value)<0){t+=n.value}break;case"day":case"year":case"weekYear":case"dayNumberOfWeek":case"weekInYear":case"hour0_23":case"hour1_24":case"hour0_11":case"hour1_12":case"minute":case"second":case"fractionalsecond":if(!a){t+="0123456789";a=true}break;case"month":case"monthStandalone":if(n.digits<3){if(!a){t+="0123456789";a=true}}else{r=true}break;default:r=true;break}}if(r){t=""}return t};return s},true);