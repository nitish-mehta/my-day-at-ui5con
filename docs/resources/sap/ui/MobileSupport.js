/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/initjQuerySupport","sap/ui/Device","sap/base/Log"],function(e,i,o){"use strict";var t=e();var n={};(function(){var e=/(?:\?|&)sap-ui-xx-fakeOS=([^&]+)/;n.simulateMobileOnDesktop=false;if((i.browser.webkit||i.browser.msie)&&!t.support.touch){var a=document.location.search.match(e);var r=a&&a[1]||t("#sap-ui-bootstrap").attr("data-sap-ui-xx-fakeOS");if(r){o.error("The experimental parameter 'sap-ui-xx-fakeOS' must NOT be used. The results are unreliable. The parameter will be removed in one of the next versions of UI5!");n.simulateMobileOnDesktop=true;var l={ios:"Mozilla/5.0 (iPhone; CPU iPhone OS 5_0_1 like Mac OS X) AppleWebKit/534.48 (KHTML, like Gecko) Version/5.1 Mobile/9A406 Safari/7534.48.3",iphone:"Mozilla/5.0 (iPhone; CPU iPhone OS 5_0_1 like Mac OS X) AppleWebKit/534.48 (KHTML, like Gecko) Version/5.1 Mobile/9A406 Safari/7534.48.3",ipad:"Mozilla/5.0 (iPad; CPU OS 5_1_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9B206",android:"Mozilla/5.0 (Linux; U; Android 4.0.3; en-us; GT-I9100 Build/IML74K) AppleWebKit/534.46 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.46",android_phone:"Mozilla/5.0 (Linux; U; Android 4.0.3; en-us; GT-I9100 Build/IML74K) AppleWebKit/534.46 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.46",android_tablet:"Mozilla/5.0 (Linux; Android 4.1.2; Nexus 7 Build/JZ054K) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Safari/535.19",blackberry:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",winphone:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)"}[r];if(l&&(i.browser.webkit&&r!=="winphone"||i.browser.msie&&r==="winphone")){if(i.browser.safari){var s=window.navigator;window.navigator={};window.navigator.__proto__=s;window.navigator.__defineGetter__("userAgent",function(){return l})}else{Object.defineProperty(navigator,"userAgent",{get:function(){return l}})}if(i.browser.webkit){t.browser.msie=t.browser.opera=t.browser.mozilla=false;t.browser.webkit=true;t.browser.version="534.46"}i._update(n.simulateMobileOnDesktop)}}}})();if(i.os.windows_phone){var a;a=document.createElement("meta");a.setAttribute("name","msapplication-tap-highlight");a.setAttribute("content","no");document.head.appendChild(a);a=document.createElement("style");a.appendChild(document.createTextNode("@-ms-viewport{width:device-width;}"));document.head.appendChild(a)}var r=false;n.initMobile=function(e){var o=t("head");if(!r){r=true;e=t.extend({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},e);if(i.os.ios&&e.preventPhoneNumberDetection){o.append(t('<meta name="format-detection" content="telephone=no">'))}else if(i.browser.msie){o.append(t('<meta http-equiv="cleartype" content="on">'));o.append(t('<meta name="msapplication-tap-highlight" content="no">'))}var a=i.os.ios&&i.os.version>=7&&i.os.version<8&&i.browser.name==="sf";if(e.viewport){var l;if(a&&i.system.phone){l="minimal-ui, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}else if(a&&i.system.tablet){l="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}else if(i.os.ios&&i.system.phone&&Math.max(window.screen.height,window.screen.width)===568){l="user-scalable=0, initial-scale=1.0"}else if(i.os.android&&i.os.version<3){l="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}else{l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}o.append(t('<meta name="viewport" content="'+l+'">'))}if(e.mobileWebAppCapable==="default"){if(i.os.ios){o.append(t('<meta name="apple-mobile-web-app-capable" content="yes">'))}}else{n.setMobileWebAppCapable(e.mobileWebAppCapable)}if(i.os.ios){o.append(t('<meta name="apple-mobile-web-app-status-bar-style" content="'+e.statusBar+'">'))}if(e.useFullScreenHeight){t(function(){document.documentElement.style.height="100%"})}if(e.preventScroll&&i.os.ios){t(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(e&&e.homeIcon){var s;if(typeof e.homeIcon==="string"){s={phone:e.homeIcon}}else{s=t.extend({},e.homeIcon)}s.precomposed=e.homeIconPrecomposed||s.precomposed;s.favicon=e.homeIcon.icon||s.favicon;s.icon=undefined;n.setIcons(s)}};n.setIcons=function(e){if(!e||typeof e!=="object"){o.warning("Call to sap/ui/MobileSupport.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var i=t("head"),n=e.precomposed?"-precomposed":"",a=function(i){return e[i]||e["tablet@2"]||e["phone@2"]||e["phone"]||e["tablet"]},r={phone:"",tablet:"76x76","phone@2":"120x120","tablet@2":"152x152"};if(e["favicon"]){var l=i.find("[rel^=shortcut]");l.each(function(){if(this.rel==="shortcut icon"){t(this).remove()}});i.append(t('<link rel="shortcut icon" href="'+e["favicon"]+'" />'))}if(a("phone")){i.find("[rel=apple-touch-icon]").remove();i.find("[rel=apple-touch-icon-precomposed]").remove()}for(var s in r){e[s]=e[s]||a(s);if(e[s]){var p=r[s];i.append(t('<link rel="apple-touch-icon'+n+'" '+(p?'sizes="'+p+'"':"")+' href="'+e[s]+'" />'))}}};n.setMobileWebAppCapable=function(e){if(!i.system.tablet&&!i.system.phone){return}var o=t("head"),n=["","apple"],a="mobile-web-app-capable",r=e?"yes":"no",l,s,p;for(l=0;l<n.length;l++){s=n[l]?n[l]+"-"+a:a;p=o.children('meta[name="'+s+'"]');if(p.length){p.attr("content",r)}else{o.append(t('<meta name="'+s+'" content="'+r+'">'))}}};return n});