/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Utils","jquery.sap.global","sap/ui/fl/changeHandler/Base","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,n,o){"use strict";var r={};r.applyChange=function(n,o,r){var i=r.modifier,a=r.appComponent,u=r.view,l=n.getDefinition();if(l.texts&&l.texts.groupLabel&&l.texts.groupLabel.value&&l.content&&l.content.group&&(l.content.group.selector||l.content.group.id)){var p=l.texts.groupLabel.value,c=l.content.group.index,g=l.content.group.selector||{id:l.content.group.id},f=t.extend({},g);f.id=f.id+"--title";var s=i.createControl("sap.ui.core.Title",a,u,f),d=i.createControl("sap.ui.layout.form.FormContainer",a,u,g);i.setProperty(s,"text",p);i.insertAggregation(d,"title",s,0,u);i.insertAggregation(o,"formContainers",d,c,u)}else{e.log.error("Change does not contain sufficient information to be applied: ["+l.layer+"]"+l.namespace+"/"+l.fileName+"."+l.fileType)}};r.completeChangeContent=function(e,t,r){var i=e.getDefinition(),a=r.appComponent;if(t.newLabel){n.setTextInChange(i,"groupLabel",t.newLabel,"XFLD")}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.groupLabel attribute required")}if(!i.content){i.content={}}if(!i.content.group){i.content.group={}}if(t.index===undefined){throw new Error("Cannot create a new group: oSpecificChangeInfo.index attribute required")}else{i.content.group.index=t.index}if(t.newControlId){i.content.group.selector=o.getSelector(t.newControlId,a)}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.newControlId attribute required")}};return r},true);