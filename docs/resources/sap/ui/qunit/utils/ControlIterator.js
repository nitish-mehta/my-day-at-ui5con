/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/Core"],function(e,i){"use strict";var a={};a._aControlsThatCannotBeRenderedGenerically=["sap.ui.comp.smartform.Group","sap.ui.comp.smartform.GroupElement","sap.ui.core.UIComponent","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.XMLView","sap.ui.core.mvc.TemplateView","sap.ui.core.mvc.View","sap.ui.core.tmpl.Template","sap.m.FacetFilterItem","sap.m.LightBox","sap.m.Menu","sap.m.NotificationListItem","sap.m.NotificationListBase","sap.m.internal.NumericInput","sap.m.QuickViewBase","sap.m.QuickViewGroup","sap.m.QuickViewGroupElement","sap.m.TabStripItem","sap.m.TimePickerSlider","sap.m.TimePickerSliders","sap.m.UploadCollectionToolbarPlaceholder","sap.m.Wizard","sap.tnt.NavigationList","sap.ui.demokit.IndexLayout._Tile","sap.ui.layout.BlockLayoutRow","sap.ui.richtexteditor.RichTextEditor","sap.ui.richtexteditor.ToolbarWrapper","sap.ui.suite.TaskCircle","sap.ui.table.ColumnMenu","sap.ui.unified.Menu","sap.ui.ux3.ActionBar","sap.ui.ux3.ExactList.LB","sap.ui.ux3.NotificationBar","sap.ui.rta.ContextMenu","sap.ui.rta.AddElementsDialog","sap.ui.comp.valuehelpdialog.ValueHelpDialog","sap.chart.Chart","sap.makit.Chart","sap.me.TabContainer","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageSubSection","sap.uiext.inbox.SubstitutionRulesManager","sap.uiext.inbox.composite.InboxTaskTitleControl","sap.uiext.inbox.InboxFormattedTextView","sap.uiext.inbox.InboxToggleTextView","sap.uiext.inbox.InboxTaskDetails","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.controls.VizRangeSlider","sap.viz.ui5.core.BaseChart","sap.viz.ui5.controls.VizTooltip"];a.controlCanBeRendered=function(e){if(!a.controlCanBeInstantiated(e)){return false}if(a._aControlsThatCannotBeRenderedGenerically.indexOf(e)>-1){return false}return true};a.controlCanBeInstantiated=function(i){if(["sap.ui.codeeditor.CodeEditor","sap.ui.demokit.IndexLayout._Tile","sap.ui.commons.SearchField","sap.ui.commons.SearchField.CB","sap.ui.commons.SearchFieldCB","sap.ui.commons.Tab","sap.ui.comp.transport.TransportDialog","sap.ui.core.ComponentContainer","sap.ui.core.mvc.View","sap.ui.core.mvc.XMLView","sap.ui.core.XMLComposite","sap.ui.core.mvc.JSView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.TemplateView","sap.ui.mdc.FilterBar","sap.ui.mdc.Table","sap.ui.mdc.Field","sap.ui.mdc.XMLComposite","sap.ui.mdc.ValueHelpDialog","sap.ui.mdc.FilterField","sap.makit.Chart","sap.ui.rta.AddElementsDialog","sap.ui.rta.ContextMenu"].indexOf(i)>-1){return false}var a=e.sap.getObject(i);if(!a){return false}var n=a.getMetadata();if(n.isAbstract()){return false}return true};var n=["sap.ui.core","sap.chart","sap.f","sap.m","sap.makit","sap.me","sap.ndc","sap.suite.ui.microchart","sap.tnt","sap.ui.codeeditor","sap.ui.commons","sap.ui.comp","sap.ui.dt","sap.ui.fl","sap.ui.generic.app","sap.ui.generic.template","sap.ui.layout","sap.ui.mdc","sap.ui.richtexteditor","sap.ui.rta","sap.ui.suite","sap.ui.table","sap.ui.unified","sap.ui.ux3","sap.uxap","sap.viz"];var t=function(e){if(n.indexOf(e)>-1){return true}else{return false}};function r(i,a){var n=sap.ui.getCore().getLoadedLibraries(),r,o,u,s;u=sap.ui.getVersionInfo();for(s=0;s<u.libraries.length;s++){r=u.libraries[s].name;if(e.inArray(r,i)===-1&&!n[r]){e.sap.log.info("Libary '"+r+"' is not loaded!");try{sap.ui.getCore().loadLibrary(r);o=true}catch(e){}}}if(o){n=sap.ui.getCore().getLoadedLibraries()}i.forEach(function(e){n[e]=undefined});if(!a){for(var l in n){if(!t(l)){n[l]=undefined}}}return n}function o(e){var i=sap.ui.getCore().getLoadedLibraries(),a,n;for(n=0;n<e.length;n++){if(!i[e[n]]){sap.ui.getCore().loadLibrary(e[n]);a=true}}if(a){i=sap.ui.getCore().getLoadedLibraries()}for(var t in i){if(e.indexOf(t)===-1){i[t]=undefined}}return i}var u=function(e,i,a,n){var t=e?o(e):r(i,a);n.test("Should load at least one library and some controls",function(e){e.expect(2);var i=false;for(var a in t){if(t[a]){if(!i){e.ok(t[a],"Should have loaded at least one library");i=true}var n=t[a].controls?t[a].controls.length:0;if(n>0){e.ok(n>0,"Should find at least 10 controls in a library");break}}}});return t};var s=function(e,i,n,t){if(!e){return false}if(i.indexOf(e)>-1){return false}if(!n&&!a.controlCanBeRendered(e)){return false}if(!t&&!a.controlCanBeInstantiated(e)){return false}return true};var l=function(e,i,a,n,t){return new Promise(function(r,o){var u=0;var s=function(o){if(o<e.length){var l=e[o];c(l,i,a,n,t).then(function(e){if(e){u++}s(o+1)})}else{r(u)}};s(0)})};function c(i,n,t,r,o){return new Promise(function(u){var l=false;if(s(i,n,t,r)){l=true;var c=e.sap.getObject(i);o(i,c,{canInstantiate:a.controlCanBeInstantiated(i),canRender:a.controlCanBeRendered(i)})}window.setTimeout(function(){u(l)},0)})}a.run=function(e,i){window.setTimeout(function(){d(e,i)},1)};function d(i,a){if(!a){a={}}var n=a.done||function(){};var t=a.librariesToTest||undefined;var r=a.excludedLibraries||[];var o=a.excludedControls||[];var s=a.includeDistLayer!==undefined?a.includeDistLayer:false;var l=a.includeElements!==undefined?a.includeElements:false;var c=a.includeNonRenderable!==undefined?a.includeNonRenderable:true;var d=a.includeNonInstantiable!==undefined?a.includeNonInstantiable:false;var f=a.qunit;if(f){f.test("Checking the given QUnit object",function(e){e.ok(true,"The given QUnit should be able to assert")})}else{var m=function(){};var b={ok:function(e,i){if(!e){throw new Error(i)}},expect:m};f={module:m,test:function(e,i){i(b)}}}f.test("Checking the given options",function(i){i.ok(a.librariesToTest===undefined||e.isArray(a.librariesToTest),"The given librariesToTest must be undefined or an array, but is: "+a.librariesToTest);i.ok(a.excludedLibraries===undefined||e.isArray(a.excludedLibraries),"The given excludedLibraries must be undefined or an array, but is: "+a.excludedLibraries);i.ok(a.excludedControls===undefined||e.isArray(a.excludedControls),"The given excludedControls must be undefined or an array, but is: "+a.excludedControls);i.ok(a.includeDistLayer===undefined||typeof a.includeDistLayer==="boolean","The given includeDistLayer must be undefined or a boolean, but is: "+a.includeDistLayer);i.ok(a.includeElements===undefined||typeof a.includeElements==="boolean","The given includeElements must be undefined or a boolean, but is: "+a.includeElements);i.ok(a.includeNonRenderable===undefined||typeof a.includeNonRenderable==="boolean","The given includeNonRenderable must be undefined or a boolean, but is: "+a.includeNonRenderable);i.ok(a.includeNonInstantiable===undefined||typeof a.includeNonInstantiable==="boolean","The given includeNonInstantiable must be undefined or a boolean, but is: "+a.includeNonInstantiable);i.ok(n===undefined||typeof n==="function","The given done callback must be undefined or a function, but is: "+n)});var v=u(t,r,s,f);p(v,l,o,c,d,i).then(function(e){n({testedControlCount:e[0],testedLibraryCount:e[1]})})}function p(e,i,a,n,t,r){return new Promise(function(o){var u=0,s=0;var l=[];for(var c in e){l.push(c)}var d=function(c){if(c<l.length){var p=l[c];f(e,p,i,a,n,t,r).then(function(e){u+=e[0];if(e[1]){s++}d(c+1)})}else{o([u,s])}};d(0)})}function f(e,i,a,n,t,r,o){return new Promise(function(u){var s=e[i];if(!s){u([0,false]);return}var c=s.controls;if(a){c=c.concat(s.elements.slice())}l(c,n,t,r,o).then(function(e){u([e,true])})})}return a},true);