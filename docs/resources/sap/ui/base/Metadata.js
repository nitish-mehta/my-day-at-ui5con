/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/Device","jquery.sap.script"],function(t,e){"use strict";var a=function(e,a){t.sap.assert(typeof e==="string"&&e,"Metadata: sClassName must be a non-empty string");t.sap.assert(typeof a==="object","Metadata: oClassInfo must be empty or an object");if(!a||typeof a.metadata!=="object"){a={metadata:a||{},constructor:t.sap.getObject(e)};a.metadata.__version=1}a.metadata.__version=a.metadata.__version||2;if(typeof a.constructor!=="function"){throw Error("constructor for class "+e+" must have been declared before creating metadata for it")}this._sClassName=e;this._oClass=a.constructor;this.extend(a)};a.prototype.extend=function(t){this.applySettings(t);this.afterApplySettings()};a.prototype.applySettings=function(e){var s=this,r=e.metadata,n;if(r.baseType){var o=t.sap.getObject(r.baseType);if(typeof o!=="function"){t.sap.log.fatal("base class '"+r.baseType+"' does not exist")}if(o.getMetadata){this._oParent=o.getMetadata();t.sap.assert(o===o.getMetadata().getClass(),"Metadata: oParentClass must match the class in the parent metadata")}else{this._oParent=new a(r.baseType,{})}}else{this._oParent=undefined}this._bAbstract=!!r["abstract"];this._bFinal=!!r["final"];this._sStereotype=r.stereotype||(this._oParent?this._oParent._sStereotype:"object");this._bDeprecated=!!r["deprecated"];this._aInterfaces=r.interfaces||[];this._aPublicMethods=r.publicMethods||[];this._bInterfacesUnique=false;n=this._oClass.prototype;for(var i in e){if(i!=="metadata"&&i!=="constructor"){n[i]=e[i];if(!i.match(/^_|^on|^init$|^exit$/)){s._aPublicMethods.push(i)}}}};a.prototype.afterApplySettings=function(){if(this._oParent){this._aAllPublicMethods=this._oParent._aAllPublicMethods.concat(this._aPublicMethods);this._bInterfacesUnique=false}else{this._aAllPublicMethods=this._aPublicMethods}};a.prototype.getStereotype=function(){return this._sStereotype};a.prototype.getName=function(){return this._sClassName};a.prototype.getClass=function(){return this._oClass};a.prototype.getParent=function(){return this._oParent};a.prototype._dedupInterfaces=function(){if(!this._bInterfacesUnique){t.sap.unique(this._aInterfaces);t.sap.unique(this._aPublicMethods);t.sap.unique(this._aAllPublicMethods);this._bInterfacesUnique=true}};a.prototype.getPublicMethods=function(){this._dedupInterfaces();return this._aPublicMethods};a.prototype.getAllPublicMethods=function(){this._dedupInterfaces();return this._aAllPublicMethods};a.prototype.getInterfaces=function(){this._dedupInterfaces();return this._aInterfaces};a.prototype.isInstanceOf=function(t){if(this._oParent){if(this._oParent.isInstanceOf(t)){return true}}var e=this._aInterfaces;for(var a=0,s=e.length;a<s;a++){if(e[a]===t){return true}}return false};var s=!!e.browser.phantomJS;Object.defineProperty(a.prototype,"_mImplementedTypes",{get:function(){if(this===a.prototype){throw new Error("sap.ui.base.Metadata: The '_mImplementedTypes' property must not be accessed on the prototype")}var t=Object.create(this._oParent?this._oParent._mImplementedTypes:null);t[this._sClassName]=true;var e=this._aInterfaces,r=e.length;while(r-- >0){if(!t[e[r]]){t[e[r]]=true}}Object.defineProperty(this,"_mImplementedTypes",{value:Object.freeze(t),writable:s,configurable:false});return t},configurable:true});a.prototype.isA=function(t){var e=this._mImplementedTypes;if(Array.isArray(t)){for(var a=0;a<t.length;a++){if(t[a]in e){return true}}return false}return t in e};a.prototype.isAbstract=function(){return this._bAbstract};a.prototype.isFinal=function(){return this._bFinal};a.prototype.isDeprecated=function(){return this._bDeprecated};a.prototype.addPublicMethods=function(t){var e=t instanceof Array?t:arguments;Array.prototype.push.apply(this._aPublicMethods,e);Array.prototype.push.apply(this._aAllPublicMethods,e);this._bInterfacesUnique=false};a.createClass=function(e,s,r,n){if(typeof e==="string"){n=r;r=s;s=e;e=null}t.sap.assert(!e||typeof e==="function");t.sap.assert(typeof s==="string"&&!!s);t.sap.assert(!r||typeof r==="object");t.sap.assert(!n||typeof n==="function");n=n||a;if(typeof n.preprocessClassInfo==="function"){r=n.preprocessClassInfo(r)}r=r||{};r.metadata=r.metadata||{};if(!r.hasOwnProperty("constructor")){r.constructor=undefined}var o=r.constructor;t.sap.assert(!o||typeof o==="function");if(e){if(!o){if(r.metadata.deprecated){o=function(){t.sap.log.warning("Usage of deprecated class: "+s);e.apply(this,arguments)}}else{o=function(){e.apply(this,arguments)}}}o.prototype=Object.create(e.prototype);o.prototype.constructor=o;r.metadata.baseType=e.getMetadata().getName()}else{o=o||function(){};delete r.metadata.baseType}r.constructor=o;t.sap.setObject(s,o);var i=new n(s,r);o.getMetadata=o.prototype.getMetadata=t.sap.getter(i);if(!o.getMetadata().isFinal()){o.extend=function(t,e,s){return a.createClass(o,t,e,s||n)}}return o};return a},true);