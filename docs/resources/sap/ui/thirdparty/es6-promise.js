/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */
(function(){"use strict";function e(e){return typeof e==="function"||typeof e==="object"&&e!==null}function t(e){return typeof e==="function"}function r(e){return typeof e==="object"&&e!==null}var n;if(!Array.isArray){n=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{n=Array.isArray}var i=n;var o=0;var u={}.toString;var s;var a;var f=function e(t,r){A[o]=t;A[o+1]=r;o+=2;if(o===2){if(a){a(E)}else{S()}}};function c(e){a=e}function l(e){f=e}var v=typeof window!=="undefined"?window:undefined;var p=v||{};var d=p.MutationObserver||p.WebKitMutationObserver;var _=typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function y(){var e=process.nextTick;var t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);if(Array.isArray(t)&&t[1]==="0"&&t[2]==="10"){e=setImmediate}return function(){e(E)}}function m(){return function(){s(E)}}function b(){var e=0;var t=new d(E);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function g(){var e=new MessageChannel;e.port1.onmessage=E;return function(){e.port2.postMessage(0)}}function w(){return function(){setTimeout(E,1)}}var A=new Array(1e3);function E(){for(var e=0;e<o;e+=2){var t=A[e];var r=A[e+1];t(r);A[e]=undefined;A[e+1]=undefined}o=0}function j(){try{var e=require;var t=e("vertx");s=t.runOnLoop||t.runOnContext;return m()}catch(e){return w()}}var S;if(_){S=y()}else if(d){S=b()}else if(h){S=g()}else if(v===undefined&&typeof require==="function"){S=j()}else{S=w()}function T(){}var x=void 0;var O=1;var C=2;var M=new z;function P(){return new TypeError("You cannot resolve a promise with itself")}function k(){return new TypeError("A promises callback cannot return that same promise.")}function I(e){try{return e.then}catch(e){M.error=e;return M}}function Y(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function q(e,t,r){f(function(e){var n=false;var i=Y(r,t,function(r){if(n){return}n=true;if(t!==r){K(e,r)}else{N(e,r)}},function(t){if(n){return}n=true;U(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;U(e,i)}},e)}function F(e,t){if(t._state===O){N(e,t._result)}else if(t._state===C){U(e,t._result)}else{W(t,undefined,function(t){K(e,t)},function(t){U(e,t)})}}function D(e,r){if(r.constructor===e.constructor){F(e,r)}else{var n=I(r);if(n===M){U(e,M.error)}else if(n===undefined){N(e,r)}else if(t(n)){q(e,r,n)}else{N(e,r)}}}function K(t,r){if(t===r){U(t,P())}else if(e(r)){D(t,r)}else{N(t,r)}}function L(e){if(e._onerror){e._onerror(e._result)}$(e)}function N(e,t){if(e._state!==x){return}e._result=t;e._state=O;if(e._subscribers.length!==0){f($,e)}}function U(e,t){if(e._state!==x){return}e._state=C;e._result=t;f(L,e)}function W(e,t,r,n){var i=e._subscribers;var o=i.length;e._onerror=null;i[o]=t;i[o+O]=r;i[o+C]=n;if(o===0&&e._state){f($,e)}}function $(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,i,o=e._result;for(var u=0;u<t.length;u+=3){n=t[u];i=t[u+r];if(n){H(r,n,i,o)}else{i(o)}}e._subscribers.length=0}function z(){this.error=null}var B=new z;function G(e,t){try{return e(t)}catch(e){B.error=e;return B}}function H(e,r,n,i){var o=t(n),u,s,a,f;if(o){u=G(n,i);if(u===B){f=true;s=u.error;u=null}else{a=true}if(r===u){U(r,k());return}}else{u=i;a=true}if(r._state!==x){}else if(o&&a){K(r,u)}else if(f){U(r,s)}else if(e===O){N(r,u)}else if(e===C){U(r,u)}}function J(e,t){try{t(function t(r){K(e,r)},function t(r){U(e,r)})}catch(t){U(e,t)}}function Q(e,t){var r=this;r._instanceConstructor=e;r.promise=new e(T);if(r._validateInput(t)){r._input=t;r.length=t.length;r._remaining=t.length;r._init();if(r.length===0){N(r.promise,r._result)}else{r.length=r.length||0;r._enumerate();if(r._remaining===0){N(r.promise,r._result)}}}else{U(r.promise,r._validationError())}}Q.prototype._validateInput=function(e){return i(e)};Q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Q.prototype._init=function(){this._result=new Array(this.length)};var R=Q;Q.prototype._enumerate=function(){var e=this;var t=e.length;var r=e.promise;var n=e._input;for(var i=0;r._state===x&&i<t;i++){e._eachEntry(n[i],i)}};Q.prototype._eachEntry=function(e,t){var n=this;var i=n._instanceConstructor;if(r(e)){if(e.constructor===i&&e._state!==x){e._onerror=null;n._settledAt(e._state,t,e._result)}else{n._willSettleAt(i.resolve(e),t)}}else{n._remaining--;n._result[t]=e}};Q.prototype._settledAt=function(e,t,r){var n=this;var i=n.promise;if(i._state===x){n._remaining--;if(e===C){U(i,r)}else{n._result[t]=r}}if(n._remaining===0){N(i,n._result)}};Q.prototype._willSettleAt=function(e,t){var r=this;W(e,undefined,function(e){r._settledAt(O,t,e)},function(e){r._settledAt(C,t,e)})};function V(e){return new R(this,e).promise}var X=V;function Z(e){var t=this;var r=new t(T);if(!i(e)){U(r,new TypeError("You must pass an array to race."));return r}var n=e.length;function o(e){K(r,e)}function u(e){U(r,e)}for(var s=0;r._state===x&&s<n;s++){W(t.resolve(e[s]),undefined,o,u)}return r}var ee=Z;function te(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(T);K(r,e);return r}var re=te;function ne(e){var t=this;var r=new t(T);U(r,e);return r}var ie=ne;var oe=0;function ue(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function se(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ae=fe;function fe(e){this._id=oe++;this._state=undefined;this._result=undefined;this._subscribers=[];if(T!==e){if(!t(e)){ue()}if(!(this instanceof fe)){se()}J(this,e)}}fe.all=X;fe.race=ee;fe.resolve=re;fe.reject=ie;fe._setScheduler=c;fe._setAsap=l;fe._asap=f;fe.prototype={constructor:fe,then:function(e,t){var r=this;var n=r._state;if(n===O&&!e||n===C&&!t){return this}var i=new this.constructor(T);var o=r._result;if(n){var u=arguments[n-1];f(function(){H(n,i,u,o)})}else{W(r,i,e,t)}return i},catch:function(e){return this.then(null,e)}};function ce(){var e;if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t&&Object.prototype.toString.call(t.resolve()).indexOf("[object ")===0){return}e.Promise=ae}var le=ce;var ve={Promise:ae,polyfill:le};if(typeof define==="function"&&define["amd"]){define("sap/ui/thirdparty/es6-promise",function(){return ve})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=ve}if(typeof this!=="undefined"){this["ES6Promise"]=ve}}).call(this);