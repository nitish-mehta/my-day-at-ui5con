/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/model/SimpleType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,e,s,a,i){"use strict";var n=e.extend("sap.ui.model.type.String",{constructor:function(){e.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search)}}});n.prototype.formatValue=function(t,e){if(t==undefined||t==null){return null}switch(this.getPrimitiveType(e)){case"string":case"any":return t;case"int":var a=parseInt(t,10);if(isNaN(a)){throw new s(t+" is not a valid int value")}return a;case"float":var i=parseFloat(t);if(isNaN(i)){throw new s(t+" is not a valid float value")}return i;case"boolean":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""){return false}throw new s(t+" is not a valid boolean value");default:throw new s("Don't know how to format String to "+e)}};n.prototype.parseValue=function(t,e){switch(this.getPrimitiveType(e)){case"string":return t;case"boolean":case"int":case"float":return t.toString();default:throw new a("Don't know how to parse String from "+e)}};n.prototype.validateValue=function(e){if(this.oConstraints){var s=sap.ui.getCore().getLibraryResourceBundle(),a=[],n=[];t.each(this.oConstraints,function(i,r){switch(i){case"maxLength":if(e.length>r){a.push("maxLength");n.push(s.getText("String.MaxLength",[r]))}break;case"minLength":if(e.length<r){a.push("minLength");n.push(s.getText("String.MinLength",[r]))}break;case"startsWith":if(!t.sap.startsWith(e,r)){a.push("startsWith");n.push(s.getText("String.StartsWith",[r]))}break;case"startsWithIgnoreCase":if(!t.sap.startsWithIgnoreCase(e,r)){a.push("startsWithIgnoreCase");n.push(s.getText("String.StartsWith",[r]))}break;case"endsWith":if(!t.sap.endsWith(e,r)){a.push("endsWith");n.push(s.getText("String.EndsWith",[r]))}break;case"endsWithIgnoreCase":if(!t.sap.endsWithIgnoreCase(e,r)){a.push("endsWithIgnoreCase");n.push(s.getText("String.EndsWith",[r]))}break;case"contains":if(e.indexOf(r)==-1){a.push("contains");n.push(s.getText("String.Contains",[r]))}break;case"equals":if(e!=r){a.push("equals");n.push(s.getText("String.Equals",[r]))}break;case"search":if(e.search(r)==-1){a.push("search");n.push(s.getText("String.Search",[r]))}break}});if(a.length>0){throw new i(this.combineMessages(n),a)}}};return n});