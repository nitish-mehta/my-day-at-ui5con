/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/odata/type/ODataType","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,e,n,o,r,i){"use strict";var a={__edmType:"Edm.Time",ms:49646e3},u={format:c,parse:f};function s(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterTime",[t.formatValue(a,"string")])}function l(n){var o;if(!n.oFormat){o=t.extend({strictParsing:true},n.oFormatOptions);o.UTC=true;n.oFormat=e.getTimeInstance(o)}return n.oFormat}function m(t){return typeof t==="object"&&t.__edmType==="Edm.Time"&&typeof t.ms==="number"}function p(e,n){var o;e.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){e.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){t.sap.log.warning("Illegal nullable: "+o,null,e.getName())}}}function f(t){if(!m(t)){throw new n("Illegal sap.ui.model.odata.type.Time value: "+d(t))}return new Date(t.ms)}function c(t){return{__edmType:"Edm.Time",ms:((t.getUTCHours()*60+t.getUTCMinutes())*60+t.getUTCSeconds())*1e3+t.getUTCMilliseconds()}}function d(t){try{return JSON.stringify(t)}catch(e){return String(t)}}var g=o.extend("sap.ui.model.odata.type.Time",{constructor:function(t,e){o.apply(this,arguments);p(this,e);this.oFormatOptions=t}});g.prototype.formatValue=function(t,e){if(t===undefined||t===null){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"string":return l(this).format(f(t));default:throw new n("Don't know how to format "+this.getName()+" to "+e)}};g.prototype.getModelFormat=function(){return u};g.prototype.getName=function(){return"sap.ui.model.odata.type.Time"};g.prototype.parseValue=function(t,e){var n;if(t===""||t===null){return null}if(this.getPrimitiveType(e)!=="string"){throw new r("Don't know how to parse "+this.getName()+" from "+e)}n=l(this).parse(t);if(!n){throw new r(s(this))}return c(n)};g.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new i(s(this))}return}if(!m(t)){throw new i("Illegal "+this.getName()+" value: "+d(t))}};g.prototype._handleLocalizationChange=function(){this.oFormat=null};return g});