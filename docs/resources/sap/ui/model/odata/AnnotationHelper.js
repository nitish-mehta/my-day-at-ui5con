/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/base/BindingParser","./_AnnotationHelperBasics","./_AnnotationHelperExpression"],function(t,e,n,o){"use strict";function r(t,e){if(!e){return t}function n(){return t.call(this,e.apply(this,arguments))}return n}var i={createPropertySetting:function(t,n){var o=false,i;t=t.slice();t.forEach(function(n,r){switch(typeof n){case"boolean":case"number":case"undefined":o=true;break;case"string":i=e.complexParser(n,null,true,true);if(i!==undefined){if(i.functionsNotFound){throw new Error("Function name(s) "+i.functionsNotFound.join(", ")+" not found")}t[r]=n=i}case"object":if(!n||typeof n!=="object"||!("path"in n)){o=true}break;default:throw new Error("Unsupported part: "+n)}});i={formatter:n,parts:t};if(o){e.mergeParts(i)}if(i.parts.length===0){i=i.formatter&&i.formatter();if(typeof i==="string"){i=e.complexParser.escape(i)}}else if(i.parts.length===1){n=i.formatter;i=i.parts[0];if(n){i.formatter=r(n,i.formatter)}}return i},format:function(t,e){if(arguments.length===1){e=t.getObject("")}return o.getExpression(t,e,true)},getNavigationPath:function(t,e){if(arguments.length===1){e=t.getObject("")}var o=n.followPath(t,e);return o?"{"+o.navigationProperties.join("/")+"}":""},gotoEntitySet:function(e){var o,r,i=e.getObject(),a;if(typeof i==="string"){o=i}else{a=n.followPath(e,i);o=a&&a.associationSetEnd&&a.associationSetEnd.entitySet}if(o){r=e.getModel().getODataEntitySet(o,true)}if(!r){t.sap.log.warning(e.getPath()+": found '"+o+"' which is not a name of an entity set",undefined,"sap.ui.model.odata.AnnotationHelper")}return r},gotoEntityType:function(e){var n=e.getProperty(""),o=e.getModel().getODataEntityType(n,true);if(!o){t.sap.log.warning(e.getPath()+": found '"+n+"' which is not a name of an entity type",undefined,"sap.ui.model.odata.AnnotationHelper")}return o},gotoFunctionImport:function(e){var n=e.getProperty("String"),o=e.getModel().getODataFunctionImport(n,true);if(!o){t.sap.log.warning(e.getPath()+": found '"+n+"' which is not a name of a function import",undefined,"sap.ui.model.odata.AnnotationHelper")}return o},isMultiple:function(t,e){if(arguments.length===1){e=t.getObject("")}var o=n.followPath(t,e);if(o){if(o.navigationAfterMultiple){throw new Error('Association end with multiplicity "*" is not the last one: '+e.AnnotationPath)}return String(o.isMultiple)}return""},resolvePath:function(e){var o=n.followPath(e,e.getObject());if(!o){t.sap.log.warning(e.getPath()+": Path could not be resolved ",undefined,"sap.ui.model.odata.AnnotationHelper")}return o?o.resolvedPath:undefined},simplePath:function(t,e){if(arguments.length===1){e=t.getObject("")}return o.getExpression(t,e,false)}};i.format.requiresIContext=true;i.getNavigationPath.requiresIContext=true;i.isMultiple.requiresIContext=true;i.simplePath.requiresIContext=true;return i},true);