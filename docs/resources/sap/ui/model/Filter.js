/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/base/Object","./FilterOperator"],function(e,t,i){"use strict";var r=t.extend("sap.ui.model.Filter",{constructor:function(t,r,a,o){if(typeof t==="object"&&!Array.isArray(t)){this.sPath=t.path;this.sOperator=t.operator;this.oValue1=t.value1;this.oValue2=t.value2;this.sVariable=t.variable;this.oCondition=t.condition;this.aFilters=t.filters||t.aFilters;this.bAnd=t.and||t.bAnd;this.fnTest=t.test;this.fnCompare=t.comparator;this.bCaseSensitive=t.caseSensitive}else{if(Array.isArray(t)){this.aFilters=t}else{this.sPath=t}if(e.type(r)==="boolean"){this.bAnd=r}else if(e.type(r)==="function"){this.fnTest=r}else{this.sOperator=r}this.oValue1=a;this.oValue2=o;if(this.sOperator===i.Any||this.sOperator===i.All){throw new Error("The filter operators 'Any' and 'All' are only supported with the parameter object notation.")}}if(this.sOperator===i.Any){if(this.sVariable&&this.oCondition){this._checkLambdaArgumentTypes()}else if(!this.sVariable&&!this.oCondition){}else{throw new Error("When using the filter operator 'Any', a lambda variable and a condition have to be given or neither.")}}else if(this.sOperator===i.All){this._checkLambdaArgumentTypes()}else{if(Array.isArray(this.aFilters)&&!this.sPath&&!this.sOperator&&!this.oValue1&&!this.oValue2){this._bMultiFilter=true;if(!this.aFilters.every(s)){e.sap.log.error("Filter in Aggregation of Multi filter has to be instance of sap.ui.model.Filter")}}else if(!this.aFilters&&this.sPath!==undefined&&(this.sOperator&&this.oValue1!==undefined||this.fnTest)){this._bMultiFilter=false}else{e.sap.log.error("Wrong parameters defined for filter.")}}}});r.prototype._checkLambdaArgumentTypes=function(){if(!this.sVariable||typeof this.sVariable!=="string"){throw new Error("When using the filter operators 'Any' or 'All', a string has to be given as argument 'variable'.")}if(!s(this.oCondition)){throw new Error("When using the filter operator 'Any' or 'All', a valid instance of sap.ui.model.Filter has to be given as argument 'condition'.")}};function s(e){return e instanceof r}r.defaultComparator=function(e,t){if(e==t){return 0}if(e==null||t==null){return NaN}if(typeof e=="string"&&typeof t=="string"){return e.localeCompare(t)}if(e<t){return-1}if(e>t){return 1}return NaN};return r});