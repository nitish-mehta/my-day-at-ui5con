/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/equal","sap/base/util/hashCode"],function(e,i){"use strict";var n=function(n,l,t){var f={},u=[],s=[],o,r,d,h=0,a=0,y,g,p,b,C=[];if(n===l||e(n,l)){return C}t=t||function(e){if(typeof e!=="string"){e=JSON.stringify(e)||""}return i(e)};for(var O=0;O<l.length;O++){r=t(l[O]);d=f[r];if(!d){d=f[r]={iNewCount:0,iOldCount:0}}d.iNewCount++;s[O]={symbol:d}}for(var O=0;O<n.length;O++){r=t(n[O]);d=f[r];if(!d){d=f[r]={iNewCount:0,iOldCount:0}}d.iOldCount++;d.iOldLine=O;u[O]={symbol:d}}for(var O=0;O<s.length;O++){d=s[O].symbol;if(d.iNewCount===1&&d.iOldCount===1){s[O].line=d.iOldLine;u[d.iOldLine].line=O}}for(var O=0;O<s.length-1;O++){o=s[O].line;if(o!==undefined&&o<u.length-1){if(u[o+1].symbol===s[O+1].symbol){u[o+1].line=O+1;s[O+1].line=o+1}}}for(var O=s.length-1;O>0;O--){o=s[O].line;if(o!==undefined&&o>0){if(u[o-1].symbol===s[O-1].symbol){u[o-1].line=O-1;s[O-1].line=o-1}}}while(h<n.length||a<l.length){g=u[h]&&u[h].line;y=s[a]&&s[a].line;if(h<n.length&&(g===undefined||g<a)){C.push({index:a,type:"delete"});h++}else if(a<l.length&&(y===undefined||y<h)){C.push({index:a,type:"insert"});a++}else if(a===g){a++;h++}else{b=g-a;p=y-h;if(b<=p){C.push({index:a,type:"insert"});a++}else{C.push({index:a,type:"delete"});h++}}}return C};return n});