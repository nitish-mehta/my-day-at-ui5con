/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/Device","jquery.sap.mobile"],function(e,t){"use strict";var o=function(a,n){var r,i,s,u,l=0,c=3e3,p=2,d=3,f=1,b={},m={btnStart:"startE2ETrace",selLevel:"logLevelE2ETrace",taContent:"outputE2ETrace",infoText:"Ent-to-End trace is running in the background."+" Navigate to the URL that you would like to trace."+" The result of the trace will be shown in dialog after the trace is terminated.",infoDuration:5e3},g={dvLoadedLibs:"LoadedLibs",dvLoadedModules:"LoadedModules"},h;function v(t,o,n,r,i){t.push("<tr class='sapUiSelectable'><td class='sapUiSupportTechInfoBorder sapUiSelectable'><label class='sapUiSupportLabel sapUiSelectable'>",e.sap.encodeHTML(r),"</label><br>");var s=i;if(a.isFunction(i)){s=i(t)||""}t.push(a.sap.encodeHTML(s));t.push("</td></tr>")}function L(e,t,o,n,r){v(e,t,o,n,function(e){e.push("<table class='sapMSupportTable' border='0' cellspacing='5' cellpadding='5' width='100%'><tbody>");a.each(r,function(t,o){var n="";if(o!==undefined&&o!==null){if(typeof o=="string"||typeof o=="boolean"||a.isArray(o)&&o.length==1){n=o}else if((a.isArray(o)||a.isPlainObject(o))&&window.JSON){n=window.JSON.stringify(o)}}v(e,false,false,t,""+n)});e.push("</tbody></table>")})}function S(e){b={version:e.commonInformation.version,build:e.commonInformation.buildTime,change:e.commonInformation.lastChange,useragent:e.commonInformation.userAgent,docmode:e.commonInformation.documentMode,debug:e.commonInformation.debugMode,bootconfig:e.configurationBootstrap,config:e.configurationComputed,loadedlibs:e.loadedLibraries,modules:e.loadedModules,uriparams:e.URLParameters,appurl:e.commonInformation.applicationHREF};var t=["<table class='sapUiSelectable' border='0' cellspacing='5' cellpadding='5' width='100%'><tbody class='sapUiSelectable'>"];v(t,true,true,"SAPUI5 Version",function(e){e.push(b.version," (built at ",b.build,", last change ",b.change,")")});v(t,true,true,"User Agent",function(e){e.push(b.useragent,b.docmode?", Document Mode '"+b.docmode+"'":"")});v(t,true,true,"Debug Sources",function(e){e.push(b.debug?"ON":"OFF")});v(t,true,true,"Application",b.appurl);L(t,true,true,"Configuration (bootstrap)",b.bootconfig);L(t,true,true,"Configuration (computed)",b.config);L(t,true,true,"URI Parameters",b.uriparams);v(t,true,true,"End-to-End Trace",function(e){e.push("<label class='sapUiSupportLabel'>Trace Level:</label>","<select id='"+E(m.selLevel)+"' class='sapUiSupportTxtFld' >","<option value='low'>LOW</option>","<option value='medium' selected>MEDIUM</option>","<option value='high'>HIGH</option>","</select>");e.push("<button id='"+E(m.btnStart)+"' class='sapUiSupportBtn'>Start</button>");e.push("<div class='sapUiSupportDiv'>");e.push("<label class='sapUiSupportLabel'>XML Output:</label>");e.push("<textarea id='"+E(m.taContent)+"' class='sapUiSupportTxtArea sapUiSelectable' readonly ></textarea>");e.push("</div>")});v(t,true,true,"Loaded Libraries",function(e){e.push("<ul class='sapUiSelectable'>");a.each(b.loadedlibs,function(t,o){if(o&&(typeof o==="string"||typeof o==="boolean")){e.push("<li class='sapUiSelectable'>",t+" "+o,"</li>")}});e.push("</ul>")});v(t,true,true,"Loaded Modules",function(e){e.push("<div class='sapUiSupportDiv sapUiSelectable' id='"+E(g.dvLoadedModules)+"'></div>")});t.push("</tbody></table>");return new sap.ui.core.HTML({content:t.join("").replace(/\{/g,"&#123;").replace(/\}/g,"&#125;")})}function E(e){return r.getId()+"-"+e}function T(e,t){var o="Modules";var n=0,r=[];n=t.length;a.each(t.sort(),function(e,t){r.push(new sap.m.Label({text:" - "+t}).addStyleClass("sapUiSupportPnlLbl"))});var i=new sap.m.Panel({expandable:true,expanded:false,headerToolbar:new sap.m.Toolbar({design:sap.m.ToolbarDesign.Transparent,content:[new sap.m.Label({text:o+" ("+n+")",design:sap.m.LabelDesign.Bold})]}),content:r});i.placeAt(E(e),"only")}function w(){if(r.traceXml){r.$(m.taContent).text(r.traceXml)}if(r.e2eLogLevel){r.$(m.selLevel).val(r.e2eLogLevel)}T(g.dvLoadedModules,b.modules);r.$(m.btnStart).one("tap",function(){r.e2eLogLevel=r.$(m.selLevel).val();r.$(m.btnStart).addClass("sapUiSupportRunningTrace").text("Running...");r.traceXml="";r.$(m.taContent).text("");sap.ui.core.support.trace.E2eTraceLib.start(r.e2eLogLevel,function(e){r.traceXml=e});sap.m.MessageToast.show(m.infoText,{duration:m.infoDuration});r.close()})}function U(){if(r){return r}a.sap.require("sap.m.Dialog");a.sap.require("sap.m.Button");a.sap.require("sap.ui.core.HTML");a.sap.require("sap.m.MessageToast");a.sap.require("sap.ui.core.support.trace.E2eTraceLib");r=new sap.m.Dialog({title:"Technical Information",horizontalScrolling:true,verticalScrolling:true,stretch:e.device.is.phone,buttons:[new sap.m.Button({text:"Close",press:function(){r.close()}})],afterOpen:function(){o.off()},afterClose:function(){o.on()}}).addStyleClass("sapMSupport");return r}function M(e){if(e.touches){var o=e.touches.length;if(t.browser.mobile&&(t.browser.name===t.browser.BROWSER.INTERNET_EXPLORER||t.browser.name===t.browser.BROWSER.EDGE)){h=o}if(o>d){n.removeEventListener("touchend",R);return}switch(o){case p:i=Date.now();n.addEventListener("touchend",R);break;case d:if(i){l=Date.now()-i;u=e.touches[o-1].identifier}break}}}function R(e){var o=t.browser.mobile&&(t.browser.name===t.browser.BROWSER.INTERNET_EXPLORER||t.browser.name===t.browser.BROWSER.EDGE)&&h==d;n.removeEventListener("touchend",R);if(l>c&&(e.touches.length===p||o)&&e.changedTouches.length===f&&e.changedTouches[0].identifier===u){l=0;i=0;y()}}function y(){sap.ui.require(["sap/ui/core/support/ToolsAPI"],function(e){var t=U();t.removeAllAggregation("content");t.addAggregation("content",S(e.getFrameworkInformation()));r.open();w()})}return{on:function(){if(!s&&"ontouchstart"in n){s=true;n.addEventListener("touchstart",M)}return this},off:function(){if(s){s=false;n.removeEventListener("touchstart",M)}return this},open:function(){y()},isEventRegistered:function(){return s}}.on()}(e,document);return o},true);