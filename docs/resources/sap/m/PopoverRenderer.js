/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/Device","sap/m/library"],function(e,t,r){"use strict";var i=r.PlacementType;var o={};o.render=function(e,t){var r;e.write("<div");e.writeControlData(t);r=this.generateRootClasses(t);r.forEach(function(t,r){e.addClass(t)});e.writeClasses();var i=t.getTooltip_AsString();if(i){e.writeAttributeEscaped("title",i)}e.writeAttribute("tabindex","-1");e.writeAccessibilityState(t,t._getAccessibilityOptions());e.write(">");if(t.getResizable()){e.writeIcon("sap-icon://resize-corner",["sapMPopoverResizeHandle"],{title:""})}this.renderContent(e,t);e.write("</div>")};o.isButtonFooter=function(e){if(e instanceof sap.m.Bar){var t=e.getContentLeft(),r=e.getContentRight(),i=e.getContentMiddle(),o=!t||t.length===0,s=!r||r.length===0,a=false;if(i&&i.length===2){if(i[0]instanceof sap.m.Button&&i[1]instanceof sap.m.Button){a=true}}return o&&s&&a}else{return false}};o.renderContent=function(r,i){var o,s=i.getId(),a=0,n=i._getAllContent(),l=i.getFooter(),p=i.getSubHeader(),d=i.getContentWidth(),g=i.getContentMinWidth(),u=i.getContentHeight(),f="sapMPopoverFooter ";if(i.getShowHeader()){o=i._getAnyHeader()}if(t.system.desktop){r.write("<span class='sapMPopoverHiddenFocusable' id='"+i.getId()+"-firstfe' tabindex='0'></span>")}if(o){r.write("<header");r.addClass("sapMPopoverHeader");r.writeClasses();r.write(">");if(o._applyContextClassFor){o._applyContextClassFor("header")}r.renderControl(o);r.write("</header>")}if(p){r.write("<header");r.addClass("sapMPopoverSubHeader");r.writeClasses();r.write(">");if(p._applyContextClassFor){p._applyContextClassFor("subheader")}r.renderControl(p);r.write("</header>")}r.write("<div");r.writeAttribute("id",s+"-cont");if(d){r.addStyle("width",d)}if(g){r.addStyle("min-width",g)}if(u){r.addStyle("height",u)}r.writeStyles();r.addClass("sapMPopoverCont");r.writeClasses();if(sap.ui.getCore().getConfiguration().getAccessibility()&&!sap.ui.getCore().getConfiguration().getAvoidAriaApplicationRole()){r.writeAttribute("role","application")}r.write(">");r.write('<div class="sapMPopoverScroll"');r.writeAttribute("id",i.getId()+"-scroll");if(!i.getHorizontalScrolling()){r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"margin-left":"margin-right",e.sap.scrollbarSize().width+"px")}r.writeStyles();r.write(">");for(a=0;a<n.length;a++){r.renderControl(n[a])}r.write("</div>");r.write("</div>");if(l){if(this.isButtonFooter(l)){f+="sapMPopoverSpecialFooter"}r.write("<footer");r.addClass(f);r.writeClasses();r.write(">");if(l._applyContextClassFor){l._applyContextClassFor("footer");l.addStyleClass("sapMTBNoBorders")}r.renderControl(l);r.write("</footer>")}if(i.getShowArrow()){r.write("<span");r.writeAttribute("id",s+"-arrow");r.addClass("sapMPopoverArr");r.writeClasses();r.write("></span>")}if(t.system.desktop){r.write("<span class='sapMPopoverHiddenFocusable' id='"+i.getId()+"-lastfe' tabindex='0'></span>")}};o.generateRootClasses=function(e){var t=["sapMPopover"],r=e.getSubHeader(),o=e.getFooter(),s=e.getVerticalScrolling()&&!e._forceDisableScrolling,a=e.getHorizontalScrolling()&&!e._forceDisableScrolling,n;if(e.getShowHeader()){n=e._getAnyHeader()}if(n){t.push("sapMPopoverWithBar")}else{t.push("sapMPopoverWithoutBar")}if(r){t.push("sapMPopoverWithSubHeader")}else{t.push("sapMPopoverWithoutSubHeader")}if(e._hasSingleNavContent()){t.push("sapMPopoverNav")}if(e._hasSinglePageContent()){t.push("sapMPopoverPage")}if(o){t.push("sapMPopoverWithFooter")}else{t.push("sapMPopoverWithoutFooter")}if(e.getPlacement()===i.Top){t.push("sapMPopoverPlacedTop")}if(!s){t.push("sapMPopoverVerScrollDisabled")}if(!a){t.push("sapMPopoverHorScrollDisabled")}t.push("sapMPopup-CTX");if(e._bSizeCompact){t.push("sapUiSizeCompact")}return t.concat(e.aCustomStyleClasses)};o.rerenderContentOnly=function(e){var t=e.$(),r=e.getDomRef(),i,o;if(!r){return}t.removeClass();i=this.generateRootClasses(e);t.addClass(i.join(" "));o=sap.ui.getCore().createRenderManager();this.renderContent(o,e);o.flush(r,true);o.destroy();e._onOrientationChange()};return o},true);