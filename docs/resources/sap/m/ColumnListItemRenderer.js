/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/Renderer","sap/ui/core/library","sap/ui/Device","./library","./ListItemBaseRenderer","./Label"],function(e,t,i,a,r,s,l){"use strict";var n=r.PopinDisplay;var d=i.VerticalAlign;var o=r.PopinLayout;var p=t.extend(s);p.render=function(e,t){var i=t.getTable();if(!i){return}s.render.apply(this,arguments);if(t.getVisible()&&i.hasPopin()){this.renderPopin(e,t,i)}};p.renderHighlight=function(e,t){e.write('<td class="sapMListTblHighlightCell" aria-hidden="true">');s.renderHighlight.apply(this,arguments);e.write("</td>")};p.renderType=function(e,t){e.write('<td class="sapMListTblNavCol" aria-hidden="true">');s.renderType.apply(this,arguments);e.write("</td>")};p.renderModeContent=function(e,t){e.write('<td class="sapMListTblSelCol" aria-hidden="true">');s.renderModeContent.apply(this,arguments);e.write("</td>")};p.renderCounter=function(e,t){};p.getAriaRole=function(e){return""};p.renderLIAttributes=function(e,t){e.addClass("sapMListTblRow");var i=t.getVAlign();if(i!=d.Inherit){e.addClass("sapMListTblRow"+i)}var a=t.getTable();if(a&&a.getAlternateRowColors()){var r=a.indexOfItem(t);if(r%2==0){e.addClass("sapMListTblRowAlternate")}}};p.renderLIContentWrapper=function(t,i){var a=i.getTable();if(!a){return}var r=a.getColumns(true),s=i.getCells();i._destroyClonedHeaders();r.forEach(function(r,l){var n,d,o=true,p=s[r.getInitialOrder()];if(!p||!r.getVisible()||r.isPopin()){r.setIndex(-1);return}t.write("<td");t.addClass("sapMListTblCell");t.writeAttribute("id",i.getId()+"_cell"+l);t.writeAttribute("data-sap-ui-column",r.getId());if(r){n=r.getStyleClass(true);n&&t.addClass(e.sap.encodeHTML(n));d=r.getHeader();if(d){t.writeAttribute("headers",d.getId())}if(!a.hasPopin()&&r.getMergeDuplicates()){var u=r.getMergeFunctionName(),g=u.split("#"),b=g[1],C=g[0];if(typeof p[C]!="function"){e.sap.log.warning("mergeFunctionName property is defined on "+r+" but this is not function of "+p)}else if(a._bRendering||!p.bOutput){var f=r.getLastValue(),w=p[C](b);if(f===w){o=sap.ui.getCore().getConfiguration().getAccessibility();p.addStyleClass("sapMListTblCellDupCnt");t.addClass("sapMListTblCellDup")}else{r.setLastValue(w)}}else if(p.hasStyleClass("sapMListTblCellDupCnt")){t.addClass("sapMListTblCellDup")}}r.getVAlign()!="Inherit"&&t.addStyle("vertical-align",r.getVAlign().toLowerCase());var c=r.getCssAlign();if(c){t.addStyle("text-align",c)}t.writeStyles()}t.writeClasses();t.write(">");if(o){this.applyAriaLabelledBy(d,p);t.renderControl(r.applyAlignTo(p))}t.write("</td>")},this)};p.applyAriaLabelledBy=function(e,t){if(t){t.removeAssociation("ariaLabelledBy",t.data("ariaLabelledBy")||undefined,true)}if(e&&e.getText&&t.getAriaLabelledBy&&e.getVisible()){t.addAssociation("ariaLabelledBy",e,true);t.data("ariaLabelledBy",e.getId())}};p.renderPopin=function(t,i,r){i.removePopin();t.write("<tr");t.addClass("sapMListTblSubRow");t.writeElementData(i.getPopin());t.writeAttribute("tabindex","-1");if(i.isSelectable()){t.writeAttribute("aria-selected",i.getSelected())}t.writeClasses();t.write(">");this.renderHighlight(t,i);t.write("<td");t.writeAttribute("id",i.getId()+"-subcell");t.writeAttribute("colspan",r.getColSpan());var s=r.getPopinLayout();if(a.browser.msie||a.browser.edge&&a.browser.version<16){s=o.Block}t.write("><div");t.addClass("sapMListTblSubCnt");t.addClass("sapMListTblSubCnt"+s);t.writeClasses();t.write(">");var d=i.getCells(),p=r.getColumns(true);p.forEach(function(a){if(!a.getVisible()||!a.isPopin()){return}var r=d[a.getInitialOrder()],s=a.getHeader();if(!s&&!r){return}var o=a.getStyleClass(),p=a.getPopinDisplay();t.write("<div");t.addClass("sapMListTblSubCntRow");o&&t.addClass(e.sap.encodeHTML(o));t.writeClasses();t.write(">");if(s&&p!=n.WithoutHeader){t.write("<div");t.addClass("sapMListTblSubCntHdr");t.writeClasses();t.write(">");var u=sap.ui.require("sap/m/ColumnHeader");if(typeof u=="function"&&s instanceof u){var g=s.getText();s=new l({text:g})}else{s=s.clone()}a.addDependent(s);i._addClonedHeader(s);a.applyAlignTo(s,"Begin");t.renderControl(s);t.write("</div>");t.write("<div class='sapMListTblSubCntSpr'>:</div>")}if(r){t.write("<div");t.addClass("sapMListTblSubCntVal");t.addClass("sapMListTblSubCntVal"+p);t.writeClasses();t.write(">");a.applyAlignTo(r,"Begin");this.applyAriaLabelledBy(s,r);t.renderControl(r);t.write("</div>")}t.write("</div>")},this);t.write("</div></td></tr>")};p.addLegacyOutlineClass=function(e,t){};return p},true);