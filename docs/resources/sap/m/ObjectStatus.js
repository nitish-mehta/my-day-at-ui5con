/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/ValueStateSupport","sap/ui/core/library","./ObjectStatusRenderer"],function(t,e,i,r,o){"use strict";var s=t.ImageHelper;var a=r.TextDirection;var n=r.ValueState;var p=e.extend("sap.m.ObjectStatus",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",designtime:"sap/m/designtime/ObjectStatus.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},active:{type:"boolean",group:"Misc",defaultValue:false},state:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:n.None},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:a.Inherit}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{press:{}}}});p.prototype.exit=function(){if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null}};p.prototype._getImageControl=function(){var t=this.getId()+"-icon";var e={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=s.getImageControl(t,this._oImageControl,this,e);return this._oImageControl};p.prototype.setTitle=function(t){var e=this.$().children(".sapMObjStatusTitle"),i=!!e.length&&!!this.validateProperty("title",t).trim();this.setProperty("title",t,i);if(i){e.text(this.getTitle()+":")}return this};p.prototype.setText=function(t){var e=this.$().children(".sapMObjStatusText"),i=!!e.length&&!!this.validateProperty("text",t).trim();this.setProperty("text",t,i);if(i){e.text(this.getText())}return this};p.prototype.ontap=function(t){if(this._isClickable(t)){this.firePress()}};p.prototype.onsapenter=function(t){if(this._isActive()){this.firePress();t.setMarked()}};p.prototype.onsapspace=function(t){this.onsapenter(t)};p.prototype._isActive=function(){return this.getActive()&&(this.getText().trim()||this.getIcon().trim())};p.prototype._isEmpty=function(){return!(this.getText().trim()||this.getIcon().trim()||this.getTitle().trim())};p.prototype.ontouchstart=function(t){if(this._isClickable(t)){t.setMarked()}};p.prototype.getAccessibilityInfo=function(){var t=this.getState()!=n.None?i.getAdditionalText(this.getState()):"";return{description:((this.getTitle()||"")+" "+(this.getText()||"")+" "+t+" "+(this.getTooltip()||"")).trim()}};p.prototype._isClickable=function(t){var e=t.target.id;return this._isActive()&&(e===this.getId()+"-link"||e===this.getId()+"-text"||e===this.getId()+"-icon")};return p});