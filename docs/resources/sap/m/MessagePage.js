/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./library","sap/ui/core/library","sap/ui/core/Control","sap/ui/core/IconPool","sap/m/Text","sap/m/Image","sap/m/Button","sap/m/Title","sap/m/FormattedText","./MessagePageRenderer"],function(t,e,i,r,o,n,s,a,g,p,u){"use strict";var l=i.TextAlign;var c=i.TextDirection;var d=e.ButtonType;var h=e.BarDesign;var m=r.extend("sap.m.MessagePage",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:"No matching items found."},description:{type:"string",group:"Misc",defaultValue:"Check the filter settings."},title:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Appearance",defaultValue:true},showNavButton:{type:"boolean",group:"Appearance",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"sap-icon://documents"},iconAlt:{type:"string",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:c.Inherit},enableFormattedText:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{customText:{type:"sap.m.Link",multiple:false},customDescription:{type:"sap.m.Link",multiple:false},buttons:{type:"sap.m.Button",multiple:true},_internalHeader:{type:"sap.m.Bar",multiple:false,visibility:"hidden"},_formattedText:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_text:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_description:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{navButtonPress:{}},designtime:"sap/m/designtime/MessagePage.designtime"}});m.prototype.init=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m"),i=new g(this.getId()+"-title");this._oNavButton=new a(this.getId()+"-navButton",{type:d.Back,press:t.proxy(function(){this.fireNavButtonPress()},this)});this.setAggregation("_internalHeader",new sap.m.Bar(this.getId()+"-intHeader",{design:h.Header,contentMiddle:[i]}));this.setProperty("text",e.getText("MESSAGE_PAGE_TEXT"),true);this.setProperty("description",e.getText("MESSAGE_PAGE_DESCRIPTION"),true)};m.prototype.exit=function(){if(this._oNavButton){this._oNavButton.destroy();this._oNavButton=null}if(this._oIconControl){this._oIconControl.destroy();this._oIconControl=null}};m.prototype.setTitle=function(t){this.setProperty("title",t,true);var e=this._getInternalHeader().getContentMiddle()[0];e.setText(t);return this};m.prototype.setText=function(t){this.setProperty("text",t,true);var e=this.getAggregation("_text");e&&e.setText(t);return this};m.prototype.setDescription=function(t){this.setProperty("description",t,true);var e=this.getAggregation("_formattedText"),i=this.getAggregation("_description");e&&e.setHtmlText(t);i&&i.setText(t);return this};m.prototype.setShowNavButton=function(t){this.setProperty("showNavButton",t,true);var e=this._getInternalHeader();if(t){e.addContentLeft(this._oNavButton)}else{e.removeAllContentLeft()}return this};m.prototype.setTextDirection=function(t){this.setProperty("textDirection",t,true);var e=this.getDomRef();if(e){if(t===c.Inherit){e.removeAttribute("dir")}else{e.dir=t.toLowerCase()}}return this};m.prototype.setIcon=function(t){var e=this.getIcon()||"";t=t||"";if(e!==t){var i=!!e&&!!t&&o.isIconURI(t)===o.isIconURI(e);this.setProperty("icon",t,i);if(i&&this._oIconControl){this._oIconControl.setSrc(t)}}return this};m.prototype.setEnableFormattedText=function(t){var e;if(t){e=this._getFormattedText();e.setHtmlText(this.getDescription())}return this.setProperty("enableFormattedText",t)};m.prototype._getIconControl=function(){if(this._oIconControl){this._oIconControl.destroy();this._oIconControl=null}this._oIconControl=o.createControlByURI({id:this.getId()+"-pageIcon",src:this.getIcon(),height:"8rem",width:"8rem",useIconTooltip:true,decorative:false,alt:this.getIconAlt()},s).addStyleClass("sapMMessagePageIcon");return this._oIconControl};m.prototype._getText=function(){if(this.getAggregation("customText")){return this.getAggregation("customText")}if(!this.getAggregation("_text")){var t=new n(this.getId()+"-text",{id:this.getId()+"-customText",text:this.getText(),textAlign:l.Center,textDirection:this.getTextDirection()});this.setAggregation("_text",t)}return this.getAggregation("_text")};m.prototype._getDescription=function(){if(this.getAggregation("customDescription")){return this.getAggregation("customDescription")}if(this.getEnableFormattedText()){return this._getFormattedText()}if(!this.getAggregation("_description")){var t=new n(this.getId()+"-description",{id:this.getId()+"-customDescription",text:this.getDescription(),textAlign:l.Center,textDirection:this.getTextDirection()});this.setAggregation("_description",t)}return this.getAggregation("_description")};m.prototype._getAnyHeader=function(){return this._getInternalHeader()};m.prototype._getInternalHeader=function(){return this.getAggregation("_internalHeader")};m.prototype._getFormattedText=function(){var t=this.getAggregation("_formattedText");if(!t){t=new p(this.getId()+"-formattedText");this.setAggregation("_formattedText",t)}return t};return m});