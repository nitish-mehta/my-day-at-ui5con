/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/m/library","sap/m/Dialog","sap/m/Button","sap/m/MessagePage","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbarLayoutData"],function(t,e,o,n,r,s,i,a,l,u){"use strict";var p=e.OverflowToolbarPriority;var d=e.ButtonType;var g={extendPdfViewer:function(e){e.prototype._initPopupControl=function(){var t=this;var e={contentHeight:"100%",contentWidth:"100%",horizontalScrolling:false,verticalScrolling:false,showHeader:true,buttons:[],afterClose:t._onAfterPopupClose.bind(t)},r=t.getId()+"-popup",s=r+"-popupCloseButton",i="getPopupCloseButton",a="getPopup";this._objectsRegister[i]=function(){var e=new n(s,{text:"",press:function(){t._objectsRegister.getPopup().close()}});t._objectsRegister[i]=function(){return e};return e};this._objectsRegister[a]=function(n){if(n===true){return null}var s=new o(r,e);s.addStyleClass("sapUiPopupWithPadding");t._objectsRegister[a]=function(){return s};return s}};e.prototype._preparePopup=function(e){var o=t.merge([],this.getPopupButtons()),n=this._objectsRegister.getPopupCloseButton(),r=this._objectsRegister.getPopupDownloadButtonControl();n.setText(this._getLibraryResourceBundle().getText("PDF_VIEWER_POPUP_CLOSE_BUTTON"));if(this.getShowDownloadButton()){o.push(r)}o.push(n);e.removeAllButtons();o.forEach(function(t){e.addButton(t)});e.setShowHeader(true);if(!!this.getPopupHeaderTitle()){e.setTitle(this.getPopupHeaderTitle())}if(!!this.getTitle()){e.setTitle(this.getTitle())}};e.prototype._initPlaceholderMessagePageControl=function(){var t=this,e="getPlaceholderMessagePageControl";this._objectsRegister[e]=function(){var o=new r({showHeader:false,text:t._getMessagePageErrorMessage(),description:""});t._objectsRegister[e]=function(){o.setText(t._getMessagePageErrorMessage());return o};return o}};e.prototype._initOverflowToolbarControl=function(){var t=this,e=this.getId()+"-overflowToolbar",o=e+"-title",n="getOverflowToolbarControl";this._objectsRegister[n]=function(r){if(r===true){return null}var i=new s(e,{}),d=new a(o,{text:t.getTitle()}),g=t._objectsRegister.getToolbarDownloadButtonControl();function c(){if(t.getShowDownloadButton()){i.addContent(g)}else{i.removeContent(g)}g.setEnabled(t._bRenderPdfContent);d.setText(t.getTitle())}i.addStyleClass("sapUiTinyMarginBottom");i.addContent(d);i.addContent(new l);c();g.setLayoutData(new u({priority:p.NeverOverflow}));t._objectsRegister[n]=function(t){if(!t){c()}return i};return i}};e.prototype._initToolbarDownloadButtonControl=function(){var t=this,e=this.getId()+"-toolbarDownloadButton",o="getToolbarDownloadButtonControl";this._objectsRegister[o]=function(n){if(n){return null}var r=new i(e,{type:d.Transparent,icon:"sap-icon://download"});r.attachPress(t.downloadPDF.bind(t));r.setEnabled(t._bRenderPdfContent);t._objectsRegister[o]=function(){r.setEnabled(t._bRenderPdfContent);return r};return r}};e.prototype._initPopupDownloadButtonControl=function(){var t=this,e=this.getId()+"-popupDownloadButton",o="getPopupDownloadButtonControl";this._objectsRegister[o]=function(){var r=new n(e,{text:t._getLibraryResourceBundle().getText("PDF_VIEWER_DOWNLOAD_TEXT")});r.attachPress(t.downloadPDF.bind(t));r.setEnabled(t._bRenderPdfContent);t._objectsRegister[o]=function(){r.setEnabled(t._bRenderPdfContent);return r};return r}}}};return g},true);