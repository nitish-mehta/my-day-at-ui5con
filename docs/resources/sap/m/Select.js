/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./Dialog","./Popover","./SelectList","./library","sap/ui/core/Control","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","./Button","./Bar","./Title","./delegate/ValueStateMessage","sap/ui/core/message/MessageMixin","sap/ui/core/library","sap/ui/core/Item","sap/ui/Device","sap/ui/core/InvisibleText","./SelectRenderer","jquery.sap.keycodes"],function(e,t,i,s,o,r,n,a,l,p,c,u,h,g,d,f,y,m){"use strict";var S=o.SelectListKeyboardNavigationMode;var I=o.PlacementType;var v=g.ValueState;var b=g.TextDirection;var C=g.TextAlign;var A=o.SelectType;var _=r.extend("sap.m.Select",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.m",properties:{name:{type:"string",group:"Misc",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},type:{type:"sap.m.SelectType",group:"Appearance",defaultValue:A.Default},autoAdjustWidth:{type:"boolean",group:"Appearance",defaultValue:false},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:C.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:b.Inherit},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:v.None},valueStateText:{type:"string",group:"Misc",defaultValue:""},showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},forceSelection:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable",forwarding:{getter:"getList",aggregation:"items"}},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"},_pickerHeader:{type:"sap.m.Bar",multiple:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},designtime:"sap/m/designtime/Select.designtime"}});a.insertFontFaceStyle();n.apply(_.prototype,[true]);h.call(_.prototype);function T(e){if(e){this.setSelection(e);this.setValue(e.getText());this.scrollToItem(e)}}_.prototype._handleFocusout=function(e){this._bFocusoutDueRendering=this.bRenderingPhase;if(this._bFocusoutDueRendering){this._bProcessChange=false;return}if(this._bProcessChange){if(!this.isOpen()||e.target===this.getAggregation("picker")){this._checkSelectionChange()}else{this._revertSelection()}this._bProcessChange=false}else{this._bProcessChange=true}};_.prototype._checkSelectionChange=function(){var e=this.getSelectedItem();if(this._oSelectionOnFocus!==e){this.fireChange({selectedItem:e})}};_.prototype._revertSelection=function(){var e=this.getSelectedItem();if(this._oSelectionOnFocus!==e){this.setSelection(this._oSelectionOnFocus);this.setValue(this._getSelectedItemText())}};_.prototype._getSelectedItemText=function(e){e=e||this.getSelectedItem();if(!e){e=this.getDefaultSelectedItem()}if(e){return e.getText()}return""};_.prototype.getList=function(){if(this.bIsDestroyed){return null}return this._oList};_.prototype.findFirstEnabledItem=function(e){var t=this.getList();return t?t.findFirstEnabledItem(e):null};_.prototype.findLastEnabledItem=function(e){var t=this.getList();return t?t.findLastEnabledItem(e):null};_.prototype.setSelectedIndex=function(e,t){var i;t=t||this.getItems();e=e>t.length-1?t.length-1:Math.max(0,e);i=t[e];if(i){this.setSelection(i)}};_.prototype.scrollToItem=function(e){var t=this.getPicker(),i=t.getDomRef("cont"),s=e&&e.getDomRef();if(!t||!i||!s){return}var o=i.scrollTop,r=s.offsetTop,n=i.clientHeight,a=s.offsetHeight;if(o>r){i.scrollTop=r}else if(r+a>o+n){i.scrollTop=Math.ceil(r+a-n)}};_.prototype.setValue=function(e){this.$("label").text(e)};_.prototype._isShadowListRequired=function(){if(this.getAutoAdjustWidth()){return false}else if(this.getWidth()==="auto"){return true}return false};_.prototype._handleAriaActiveDescendant=function(e){var t=this.getDomRef(),i=e&&e.getDomRef(),s="aria-activedescendant";if(!t){return}if(i&&this.isOpen()){t.setAttribute(s,e.getId())}else{t.removeAttribute(s)}};_.prototype.updateItems=function(e){s.prototype.updateItems.apply(this,arguments);this._oSelectionOnFocus=this.getSelectedItem()};_.prototype.refreshItems=function(){s.prototype.refreshItems.apply(this,arguments)};_.prototype.onBeforeOpen=function(e){var t=this["_onBeforeOpen"+this.getPickerType()],i=this.getRenderer().CSS_CLASS;this.addStyleClass(i+"Pressed");this.addStyleClass(i+"Expanded");this.closeValueStateMessage();this.addContent();t&&t.call(this)};_.prototype.onAfterOpen=function(e){var t=this.getFocusDomRef(),i=null;if(!t){return}i=this.getSelectedItem();t.setAttribute("aria-expanded","true");t.setAttribute("aria-owns",this.getList().getId());if(i){t.setAttribute("aria-activedescendant",i.getId());this.scrollToItem(i)}};_.prototype.onBeforeClose=function(e){var t=this.getFocusDomRef(),i=this.getRenderer().CSS_CLASS;if(t){t.removeAttribute("aria-owns");t.removeAttribute("aria-activedescendant");if(this.shouldValueStateMessageBeOpened()&&document.activeElement===t){this.openValueStateMessage()}}this.removeStyleClass(i+"Expanded")};_.prototype.onAfterClose=function(e){var t=this.getFocusDomRef(),i=this.getRenderer().CSS_CLASS,s=i+"Pressed";if(t){t.setAttribute("aria-expanded","false");t.removeAttribute("aria-activedescendant")}this.removeStyleClass(s)};_.prototype.getPicker=function(){if(this.bIsDestroyed){return null}return this.createPicker(this.getPickerType())};_.prototype.setPickerType=function(e){this._sPickerType=e};_.prototype.getPickerType=function(){return this._sPickerType};_.prototype._createPopover=function(){var e=this;var t=new i({showArrow:false,showHeader:false,placement:I.VerticalPreferredBottom,offsetX:0,offsetY:0,initialFocus:this,bounce:false,ariaLabelledBy:this._getPickerHiddenLabelId()});t.addEventDelegate({ontouchstart:function(t){var i=this.getDomRef("cont");if(t.target===i||t.srcControl instanceof d){e._bProcessChange=false}}},t);this._decoratePopover(t);return t};_.prototype._decoratePopover=function(e){var t=this;e.open=function(){return this.openBy(t)}};_.prototype._onBeforeRenderingPopover=function(){var e=this.getPicker(),t=this.$().outerWidth()+"px";if(e){e.setContentMinWidth(t)}};_.prototype._createDialog=function(){var e=this;return new t({stretch:true,ariaLabelledBy:this._getPickerHiddenLabelId(),customHeader:this._getPickerHeader(),beforeOpen:function(){e.updatePickerHeaderTitle()}})};_.prototype._getPickerTitle=function(){var e=this.getPicker(),t=e&&e.getCustomHeader();if(t){return t.getContentMiddle()[0]}return null};_.prototype._getPickerHeader=function(){var e=a.getIconURI("decline"),t;if(!this.getAggregation("_pickerHeader")){t=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setAggregation("_pickerHeader",new p({contentMiddle:new c({text:t.getText("SELECT_PICKER_TITLE_TEXT")}),contentRight:new l({icon:e,press:this.close.bind(this)})}))}return this.getAggregation("_pickerHeader")};_.prototype._getPickerHiddenLabelId=function(){return y.getStaticId("sap.m","INPUT_AVALIABLE_VALUES")};_.prototype.updatePickerHeaderTitle=function(){var e=this.getPicker();if(!e){return}var t=this.getLabels();if(t.length){var i=t[0],s=this._getPickerTitle();if(i&&typeof i.getText==="function"){s&&s.setText(i.getText())}}};_.prototype._onBeforeOpenDialog=function(){};_.prototype.init=function(){this.setPickerType(f.system.phone?"Dialog":"Popover");this.createPicker(this.getPickerType());this._oSelectionOnFocus=null;this.bRenderingPhase=false;this._bFocusoutDueRendering=false;this._bProcessChange=false;this.sTypedChars="";this.iTypingTimeoutID=-1;this._oValueStateMessage=new u(this)};_.prototype.onBeforeRendering=function(){this.bRenderingPhase=true;if(f.browser.firefox&&this.getFocusDomRef()===document.activeElement){this._handleFocusout()}this.synchronizeSelection()};_.prototype.onAfterRendering=function(){this.bRenderingPhase=false};_.prototype.exit=function(){var e=this.getValueStateMessage();this._oSelectionOnFocus=null;if(e){this.closeValueStateMessage();e.destroy()}this._oValueStateMessage=null};_.prototype.ontouchstart=function(e){e.setMarked();if(this.getEnabled()&&this.isOpenArea(e.target)){this.addStyleClass(this.getRenderer().CSS_CLASS+"Pressed")}};_.prototype.ontouchend=function(e){e.setMarked();if(this.getEnabled()&&!this.isOpen()&&this.isOpenArea(e.target)){this.removeStyleClass(this.getRenderer().CSS_CLASS+"Pressed")}};_.prototype.ontap=function(e){var t=this.getRenderer().CSS_CLASS;e.setMarked();if(!this.getEnabled()){return}if(this.isOpenArea(e.target)){if(this.isOpen()){this.close();this.removeStyleClass(t+"Pressed");return}if(f.system.phone){this.focus()}this.open()}if(this.isOpen()){this.addStyleClass(t+"Pressed")}};_.prototype.onSelectionChange=function(e){var t=e.getParameter("selectedItem");this.close();this.setSelection(t);this.fireChange({selectedItem:t});this.setValue(this._getSelectedItemText())};_.prototype.onkeypress=function(t){if(!this.getEnabled()){return}t.setMarked();var i=String.fromCharCode(t.which),s=this.getSelectedItem(),o=i,r=null;this.sTypedChars+=i;if(s&&e.sap.startsWithIgnoreCase(s.getText(),this.sTypedChars)||(this.sTypedChars.length===1||this.sTypedChars.length>1&&this.sTypedChars.charAt(0)!==this.sTypedChars.charAt(1))){o=this.sTypedChars}r=this.searchNextItemByText(o);clearTimeout(this.iTypingTimeoutID);this.iTypingTimeoutID=setTimeout(function(){this.sTypedChars="";this.iTypingTimeoutID=-1}.bind(this),1e3);T.call(this,r)};_.prototype.onsapshow=function(t){if(!this.getEnabled()){return}t.setMarked();if(t.which===e.sap.KeyCodes.F4){t.preventDefault()}this.toggleOpenState()};_.prototype.onsaphide=_.prototype.onsapshow;_.prototype.onsapescape=function(e){if(!this.getEnabled()){return}if(this.isOpen()){e.setMarked();this.close();this._revertSelection()}};_.prototype.onsapenter=function(e){if(!this.getEnabled()){return}e.setMarked();this.close();this._checkSelectionChange()};_.prototype.onsapspace=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();if(this.isOpen()){this._checkSelectionChange()}this.toggleOpenState()};_.prototype.onsapdown=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t,i=this.getSelectableItems();t=i[i.indexOf(this.getSelectedItem())+1];T.call(this,t)};_.prototype.onsapup=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t,i=this.getSelectableItems();t=i[i.indexOf(this.getSelectedItem())-1];T.call(this,t)};_.prototype.onsaphome=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t=this.getSelectableItems()[0];T.call(this,t)};_.prototype.onsapend=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t=this.findLastEnabledItem(this.getSelectableItems());T.call(this,t)};_.prototype.onsappagedown=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t=this.getSelectableItems(),i=this.getSelectedItem();this.setSelectedIndex(t.indexOf(i)+10,t);i=this.getSelectedItem();if(i){this.setValue(i.getText())}this.scrollToItem(i)};_.prototype.onsappageup=function(e){if(!this.getEnabled()){return}e.setMarked();e.preventDefault();var t=this.getSelectableItems(),i=this.getSelectedItem();this.setSelectedIndex(t.indexOf(i)-10,t);i=this.getSelectedItem();if(i){this.setValue(i.getText())}this.scrollToItem(i)};_.prototype.onsaptabnext=function(e){if(!this.getEnabled()){return}if(this.isOpen()){this.close()}};_.prototype.onsaptabprevious=_.prototype.onsaptabnext;_.prototype.onfocusin=function(e){if(!this._bFocusoutDueRendering&&!this._bProcessChange){this._oSelectionOnFocus=this.getSelectedItem()}this._bProcessChange=true;setTimeout(function(){if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()&&document.activeElement===this.getFocusDomRef()){this.openValueStateMessage()}}.bind(this),100);if(e.target!==this.getFocusDomRef()){this.focus()}};_.prototype.onfocusout=function(e){this._handleFocusout(e);if(this.bRenderingPhase){return}this.closeValueStateMessage()};_.prototype.onsapfocusleave=function(t){var i=this.getAggregation("picker");if(!t.relatedControlId||!i){return}var s=sap.ui.getCore().byId(t.relatedControlId),o=s&&s.getFocusDomRef();if(f.system.desktop&&e.sap.containsOrEquals(i.getFocusDomRef(),o)){this.focus()}};_.prototype.setSelection=function(e){var t=this.getList(),i;if(t){t.setSelection(e)}this.setAssociation("selectedItem",e,true);this.setProperty("selectedItemId",e instanceof d?e.getId():e,true);if(typeof e==="string"){e=sap.ui.getCore().byId(e)}i=e?e.getKey():"";this.setProperty("selectedKey",i,true);this._handleAriaActiveDescendant(e)};_.prototype.isSelectionSynchronized=function(){var e=this.getSelectedItem();return this.getSelectedKey()===(e&&e.getKey())};_.prototype.synchronizeSelection=function(){s.prototype.synchronizeSelection.apply(this,arguments)};_.prototype.addContent=function(e){};_.prototype.createPicker=function(e){var t=this.getAggregation("picker"),i=this.getRenderer().CSS_CLASS;if(t){return t}t=this["_create"+e]();this.setAggregation("picker",t,true);t.setHorizontalScrolling(false).addStyleClass(i+"Picker").addStyleClass(i+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this).addContent(this.createList());return t};_.prototype.searchNextItemByText=function(t){var i=this.getItems(),s=this.getSelectedIndex(),o=i.splice(s+1,i.length-s),r=i.splice(0,i.length-1);i=o.concat(r);for(var n=0,a;n<i.length;n++){a=i[n];if(a.getEnabled()&&!(a instanceof sap.ui.core.SeparatorItem)&&e.sap.startsWithIgnoreCase(a.getText(),t)){return a}}return null};_.prototype.createList=function(){var e=S,t=f.system.phone?e.Delimited:e.None;this._oList=new s({width:"100%",keyboardNavigationMode:t}).addStyleClass(this.getRenderer().CSS_CLASS+"List-CTX").addEventDelegate({ontap:function(e){this._checkSelectionChange();this.close()}},this).attachSelectionChange(this.onSelectionChange,this);return this._oList};_.prototype.hasContent=function(){return this.getItems().length>0};_.prototype.onBeforeRenderingPicker=function(){var e=this["_onBeforeRendering"+this.getPickerType()];e&&e.call(this)};_.prototype.onAfterRenderingPicker=function(){var e=this["_onAfterRendering"+this.getPickerType()];e&&e.call(this)};_.prototype.open=function(){var e=this.getPicker();if(e){e.open()}return this};_.prototype.toggleOpenState=function(){if(this.isOpen()){this.close()}else{this.open()}return this};_.prototype.getVisibleItems=function(){var e=this.getList();return e?e.getVisibleItems():[]};_.prototype.isItemSelected=function(e){return e&&e.getId()===this.getAssociation("selectedItem")};_.prototype.getSelectedIndex=function(){var e=this.getSelectedItem();return e?this.indexOfItem(this.getSelectedItem()):-1};_.prototype.getDefaultSelectedItem=function(e){return this.getForceSelection()?this.findFirstEnabledItem():null};_.prototype.getSelectableItems=function(){var e=this.getList();return e?e.getSelectableItems():[]};_.prototype.getOpenArea=function(){return this.getDomRef()};_.prototype.isOpenArea=function(e){var t=this.getOpenArea();return t&&t.contains(e)};_.prototype.findItem=function(e,t){var i=this.getList();return i?i.findItem(e,t):null};_.prototype.clearSelection=function(){this.setSelection(null)};_.prototype.onItemChange=function(e){var t=this.getAssociation("selectedItem"),i=e.getParameter("newValue"),s=e.getParameter("name");if(t===e.getParameter("id")){switch(s){case"text":this.setValue(i);break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(i)}break}}};_.prototype.fireChange=function(e){this._oSelectionOnFocus=e.selectedItem;return this.fireEvent("change",e)};_.prototype.addAggregation=function(e,t,i){if(e==="items"&&!i&&!this.isInvalidateSuppressed()){this.invalidate(t)}return r.prototype.addAggregation.apply(this,arguments)};_.prototype.destroyAggregation=function(e,t){if(e==="items"&&!t&&!this.isInvalidateSuppressed()){this.invalidate()}return r.prototype.destroyAggregation.apply(this,arguments)};_.prototype.setAssociation=function(e,t,i){var o=this.getList();if(o&&e==="selectedItem"){s.prototype.setAssociation.apply(o,arguments)}return r.prototype.setAssociation.apply(this,arguments)};_.prototype.setProperty=function(e,t,i){var o=this.getList();if(e==="selectedKey"||e==="selectedItemId"){o&&s.prototype.setProperty.apply(o,arguments)}return r.prototype.setProperty.apply(this,arguments)};_.prototype.removeAllAssociation=function(e,t){var i=this.getList();if(i&&e==="selectedItem"){s.prototype.removeAllAssociation.apply(i,arguments)}return r.prototype.removeAllAssociation.apply(this,arguments)};_.prototype.clone=function(){var e=r.prototype.clone.apply(this,arguments),t=this.getList(),i=this.getSelectedItem(),s=this.getSelectedKey();if(!this.isBound("items")&&t){for(var o=0,n=t.getItems();o<n.length;o++){e.addItem(n[o].clone())}}if(!this.isBound("selectedKey")&&!e.isSelectionSynchronized()){if(i&&s===""){e.setSelectedIndex(this.indexOfItem(i))}else{e.setSelectedKey(s)}}return e};_.prototype.updateValueStateClasses=function(e,t){var i=this.$(),s=this.$("label"),o=this.$("arrow"),r=v,n=this.getRenderer().CSS_CLASS;if(t!==r.None){i.removeClass(n+"State");i.removeClass(n+t);s.removeClass(n+"LabelState");s.removeClass(n+"Label"+t);o.removeClass(n+"ArrowState")}if(e!==r.None){i.addClass(n+"State");i.addClass(n+e);s.addClass(n+"LabelState");s.addClass(n+"Label"+e);o.addClass(n+"ArrowState")}};_.prototype.updateAriaLabelledBy=function(e,t){var i=this.$(),s=i.attr("aria-labelledby"),o=s?s.split(" "):[],r;if(t!==v.None){o.pop()}if(e!==v.None){o.push(y.getStaticId("sap.ui.core","VALUE_STATE_"+e.toUpperCase()))}r=o.join(" ");i.attr("aria-labelledby",r)};_.prototype.getLabels=function(){var e=this.getAriaLabelledBy().map(function(e){return sap.ui.getCore().byId(e)});var t=sap.ui.require("sap/ui/core/LabelEnablement");if(t){e=e.concat(t.getReferencingLabels(this).map(function(e){return sap.ui.getCore().byId(e)}))}return e};_.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef()};_.prototype.getValueStateMessageId=function(){return this.getId()+"-message"};_.prototype.getValueStateMessage=function(){return this._oValueStateMessage};_.prototype.openValueStateMessage=function(){var e=this.getValueStateMessage();if(e){e.open()}};_.prototype.closeValueStateMessage=function(){var e=this.getValueStateMessage();if(e){e.close()}};_.prototype.shouldValueStateMessageBeOpened=function(){return this.getValueState()!==v.None&&this.getEnabled()};_.prototype.setShowSecondaryValues=function(e){var t=!this._isShadowListRequired();this.setProperty("showSecondaryValues",e,t);var i=this.getList();if(i){i.setShowSecondaryValues(e)}return this};_.prototype.addItem=function(e){this.addAggregation("items",e);if(e){e.attachEvent("_change",this.onItemChange,this)}return this};_.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t);if(e){e.attachEvent("_change",this.onItemChange,this)}return this};_.prototype.findAggregatedObjects=function(){var e=this.getList();if(e){return s.prototype.findAggregatedObjects.apply(e,arguments)}return[]};_.prototype.getItems=function(){var e=this.getList();return e?e.getItems():[]};_.prototype.setSelectedItem=function(e){if(typeof e==="string"){this.setAssociation("selectedItem",e,true);e=sap.ui.getCore().byId(e)}if(!(e instanceof d)&&e!==null){return this}if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);this.setValue(this._getSelectedItemText(e));this._oSelectionOnFocus=e;return this};_.prototype.setSelectedItemId=function(e){e=this.validateProperty("selectedItemId",e);if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);this.setValue(this._getSelectedItemText());this._oSelectionOnFocus=sap.ui.getCore().byId(e);return this};_.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var t=e==="";if(!this.getForceSelection()&&t){this.setSelection(null);this.setValue("");return this}var i=this.getItemByKey(e);if(i||t){if(!i&&t){i=this.getDefaultSelectedItem()}this.setSelection(i);this.setValue(this._getSelectedItemText(i));this._oSelectionOnFocus=i;return this}return this.setProperty("selectedKey",e)};_.prototype.setValueState=function(e){var t=this.getValueState();this.setProperty("valueState",e,true);e=this.getValueState();if(e===t){return this}var i=this.getDomRefForValueState();if(!i){return this}var s=v;if(e===s.Error){i.setAttribute("aria-invalid",true)}else{i.removeAttribute("aria-invalid")}if(this.shouldValueStateMessageBeOpened()&&document.activeElement===i){this.openValueStateMessage()}else{this.closeValueStateMessage()}this.updateValueStateClasses(e,t);this.updateAriaLabelledBy(e,t);return this};_.prototype.getItemAt=function(e){return this.getItems()[+e]||null};_.prototype.getSelectedItem=function(){var e=this.getAssociation("selectedItem");return e===null?null:sap.ui.getCore().byId(e)||null};_.prototype.getFirstItem=function(){return this.getItems()[0]||null};_.prototype.getLastItem=function(){var e=this.getItems();return e[e.length-1]||null};_.prototype.getEnabledItems=function(e){var t=this.getList();return t?t.getEnabledItems(e):[]};_.prototype.getItemByKey=function(e){var t=this.getList();return t?t.getItemByKey(e):null};_.prototype.removeItem=function(e){var t=this.getList(),i;e=t?t.removeItem(e):null;if(this.getItems().length===0){this.clearSelection()}else if(this.isItemSelected(e)){i=this.findFirstEnabledItem();if(i){this.setSelection(i)}}this.setValue(this._getSelectedItemText());if(e){e.detachEvent("_change",this.onItemChange,this)}return e};_.prototype.removeAllItems=function(){var e=this.getList(),t=e?e.removeAllItems():[];this.setValue("");if(this._isShadowListRequired()){this.$().find(".sapMSelectListItemBase").remove()}for(var i=0;i<t.length;i++){t[i].detachEvent("_change",this.onItemChange,this)}return t};_.prototype.destroyItems=function(){var e=this.getList();if(e){e.destroyItems()}this.setValue("");if(this._isShadowListRequired()){this.$().find(".sapMSelectListItemBase").remove()}return this};_.prototype.isOpen=function(){var e=this.getAggregation("picker");return!!(e&&e.isOpen())};_.prototype.close=function(){var e=this.getAggregation("picker");if(e){e.close()}return this};_.prototype.getDomRefForValueState=function(){return this.getDomRef()};_.prototype.getAccessibilityInfo=function(){var e={role:this.getRenderer().getAriaRole(this),focusable:this.getEnabled(),enabled:this.getEnabled()};if(this.getType()==="IconOnly"){var t=this.getTooltip_AsString();if(!t){var i=a.getIconInfo(this.getIcon());t=i&&i.text?i.text:""}e.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_BUTTON");e.description=t}else if(this.getType()==="Default"){e.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_COMBO");e.description=this._getSelectedItemText()}return e};_.prototype.getIdForLabel=function(){return this.getId()+"-hiddenInput"};return _});