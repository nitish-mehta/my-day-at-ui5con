/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","./library","sap/ui/core/Control","sap/m/Image","sap/ui/core/IconPool","sap/ui/Device","./ImageContentRenderer","jquery.sap.keycodes"],function(t,e,i,s,r,n,o){"use strict";var a=i.extend("sap.m.ImageContent",{metadata:{library:"sap.m",properties:{src:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},description:{type:"string",group:"Accessibility",defaultValue:null}},defaultAggregation:"_content",aggregations:{_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{}}}});a.prototype.onBeforeRendering=function(){var t,e,i;t=this.getAggregation("_content");e=this.getSrc();i=this.getDescription();if(!t||e!==t.getSrc()||i!==t.getAlt()){if(t){t.destroy();t=null}t=r.createControlByURI({id:this.getId()+"-icon-image",src:e,alt:i,decorative:true},s);this.setAggregation("_content",t,true);this._setPointerOnImage()}if(i){this.setTooltip(i.trim())}};a.prototype._setPointerOnImage=function(){var t=this.getAggregation("_content");if(t&&this.hasListeners("press")){t.addStyleClass("sapMPointer")}else if(t&&t.hasStyleClass("sapMPointer")){t.removeStyleClass("sapMPointer")}};a.prototype.ontap=function(t){if(n.browser.msie){this.$().focus()}this.firePress()};a.prototype.onkeydown=function(e){if(e.which===t.sap.KeyCodes.ENTER||e.which===t.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};a.prototype.attachEvent=function(t,e,s,r){i.prototype.attachEvent.call(this,t,e,s,r);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");this._setPointerOnImage()}return this};a.prototype.detachEvent=function(t,e,s){i.prototype.detachEvent.call(this,t,e,s);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");this._setPointerOnImage()}return this};a.prototype.getAltText=function(){var t=this.getAggregation("_content");if(t&&t.getAlt()!==""){return t.getAlt()}else if(t&&t.getAccessibilityInfo()){return t.getAccessibilityInfo().description}else{return""}};return a});