/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./InputBase","./library","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","./ComboBoxTextFieldRenderer"],function(e,t,i,r,a,o){"use strict";var s=r.ValueState;var p=e.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{_buttonLabelText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}}});p.prototype.init=function(){e.prototype.init.apply(this,arguments);var t,r;if(sap.ui.getCore().getConfiguration().getAccessibility()){t=sap.ui.getCore().getLibraryResourceBundle("sap.m");r=new i({text:t.getText("COMBOBOX_BUTTON")});this.setAggregation("_buttonLabelText",r,true)}};p.prototype.updateValueStateClasses=function(t,i){e.prototype.updateValueStateClasses.apply(this,arguments);var r=s,a=this.getRenderer().CSS_CLASS_COMBOBOXTEXTFIELD,o=this.$();if(i!==r.None){o.removeClass(a+"State "+a+i)}if(t!==r.None){o.addClass(a+"State "+a+t)}};p.prototype.getOpenArea=function(){return this.getDomRef("arrow")};p.prototype.isOpenArea=function(e){var t=this.getOpenArea();return t&&t.contains(e)};p.prototype.onsapenter=function(t){e.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}t.setMarked();var i=this.getValue(),r=i.length;this.setValue(i);this.selectText(r,r)};p.prototype.bShowLabelAsPlaceholder=a.browser.msie;p.prototype.getValue=function(){var e=this.getFocusDomRef();if(e){return e.value}return this.getProperty("value")};p.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef()};p.prototype.getAccessibilityInfo=function(){var t=e.prototype.getAccessibilityInfo.apply(this,arguments);t.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_COMBO");return t};return p});