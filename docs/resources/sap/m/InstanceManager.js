/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global"],function(e){"use strict";var n={};(function(){var t={},a=[];var s="_POPOVER_",r="_DIALOG_",o="_LIGHTBOX_";n.addInstance=function(n,a){e.sap.assert(n,"In sap.m.InstanceManager.addInstance method, the parameter sCategoryId can't be null or empty string");e.sap.assert(a instanceof Object,"In sap.m.InstanceManager.addInstance method, the parameter oInstance should be an object");if(!t[n]){t[n]=[]}if(t[n].indexOf(a)===-1){t[n].push(a)}return this};n.removeInstance=function(n,a){var s=t[n],r;e.sap.assert(n,"In sap.m.InstanceManager.removeInstance method, the parameter sCategoryId can't be null or empty string");e.sap.assert(a instanceof Object,"In sap.m.InstanceManager.removeInstance method, the parameter oInstance should be an object");if(!s){e.sap.log.warning("Can't remove control from a non-managed category id: "+n);return null}r=s.indexOf(a);return r===-1?null:s.splice(r,1)};n.getInstancesByCategoryId=function(n){e.sap.assert(n,"In sap.m.InstanceManager.getInstancesByCategoryId method, the parameter sCategoryId can't be null or empty string");return t[n]||a};n.isInstanceManaged=function(n,a){e.sap.assert(n,"In sap.m.InstanceManager.isInstanceManaged method, the parameter sCategoryId can't be null or empty string");e.sap.assert(a instanceof Object,"In sap.m.InstanceManager.isInstanceManaged method, the parameter oInstance should be an object");var s=t[n];if(!s||!a){return false}return s.indexOf(a)!==-1};n.isCategoryEmpty=function(n){e.sap.assert(n,"In sap.m.InstanceManager.isCategoryEmpty method, the parameter sCategoryId can't be null or empty string");var a=t[n];return!a||a.length===0};n.addPopoverInstance=function(t){if(typeof t.close==="function"){n.addInstance(s,t)}else{e.sap.log.warning("In method addPopoverInstance: the parameter doesn't have a close method and can't be managed.")}return this};n.addDialogInstance=function(t){if(typeof t.close==="function"){n.addInstance(r,t)}else{e.sap.log.warning("In method addDialogInstance: the parameter doesn't have a close method and can't be managed.")}return this};n.addLightBoxInstance=function(t){if(typeof t.close==="function"){n.addInstance(o,t)}else{e.sap.log.warning("In method addLightBoxInstance: the parameter doesn't have a close method and can't be managed.")}return this};n.removePopoverInstance=function(e){return n.removeInstance(s,e)};n.removeDialogInstance=function(e){return n.removeInstance(r,e)};n.removeLightBoxInstance=function(e){return n.removeInstance(o,e)};n.hasOpenPopover=function(){return!n.isCategoryEmpty(s)};n.hasOpenDialog=function(){return!n.isCategoryEmpty(r)};n.hasOpenLightBox=function(){return!n.isCategoryEmpty(o)};n.isDialogOpen=function(e){return n.isInstanceManaged(r,e)};n.isPopoverOpen=function(e){return n.isInstanceManaged(s,e)};n.isLightBoxOpen=function(e){return n.isInstanceManaged(o,e)};n.getOpenPopovers=function(){return n.getInstancesByCategoryId(s)};n.getOpenDialogs=function(){return n.getInstancesByCategoryId(r)};n.getOpenLightBoxes=function(){return n.getInstancesByCategoryId(o)};n.closeAllPopovers=function(){var e=n.getOpenPopovers(),t;for(t=0;t<e.length;t++){e[t].close()}return this};n.closeAllDialogs=function(t){var a,s=[],r=n.getOpenDialogs(),o,c;for(c=0;c<r.length;c++){o=r[c];if(t){a=(new e.Deferred).done();s.push(a);o.attachEvent("afterClose",function(e){return function(){e.resolve()}}(a))}o.close()}if(t){e.when.apply(this,s).then(t)}return this};n.closeAllLightBoxes=function(){var e=n.getOpenLightBoxes(),t=e.length,a;for(a=0;a<t;a+=1){e[a].close()}return this}})();return n},true);