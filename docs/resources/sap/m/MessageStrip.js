/*!
* UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["jquery.sap.global","./library","sap/ui/core/Control","./MessageStripUtilities","./Text","./Link","./FormattedText","sap/ui/core/library","sap/ui/Device","./MessageStripRenderer"],function(e,t,a,i,o,r,n,s,p,l){"use strict";var u=s.MessageType;var g=a.extend("sap.m.MessageStrip",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MessageStrip.designtime",properties:{text:{type:"string",group:"Appearance",defaultValue:""},type:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:u.Information},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},showIcon:{type:"boolean",group:"Appearance",defaultValue:false},showCloseButton:{type:"boolean",group:"Appearance",defaultValue:false},enableFormattedText:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"link",aggregations:{link:{type:"sap.m.Link",multiple:false,singularName:"link"},_formattedText:{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"},_text:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{close:{}}}});g.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.setAggregation("_text",new o)};g.prototype.setText=function(e){var t=this.getAggregation("_formattedText");if(t){t.setHtmlText(e)}this.getAggregation("_text").setText(e);return this.setProperty("text",e)};g.prototype.setType=function(t){if(t===u.None){e.sap.log.warning(i.MESSAGES.TYPE_NOT_SUPPORTED);t=u.Information}return this.setProperty("type",t)};g.prototype.setEnableFormattedText=function(e){var t=this.getAggregation("_formattedText");if(e){if(!t){t=new n;t._setUseLimitedRenderingRules(true);this.setAggregation("_formattedText",t)}t.setHtmlText(this.getText())}return this.setProperty("enableFormattedText",e)};g.prototype.setAggregation=function(e,t,i){if(e==="link"&&t instanceof r){t.addAriaLabelledBy(this.getId())}a.prototype.setAggregation.call(this,e,t,i);return this};g.prototype.ontap=i.handleMSCloseButtonInteraction;g.prototype.onsapenter=i.handleMSCloseButtonInteraction;g.prototype.onsapspace=i.handleMSCloseButtonInteraction;g.prototype.ontouchmove=function(e){e.setMarked()};g.prototype.close=function(){var e=function(){this.fireClose();this.setVisible(false)}.bind(this);if(!sap.ui.getCore().getConfiguration().getAnimation()){e();return}if(p.browser.internet_explorer&&p.browser.version<10){i.closeTransitionWithJavascript.call(this,e)}else{i.closeTransitionWithCSS.call(this,e)}};return g});