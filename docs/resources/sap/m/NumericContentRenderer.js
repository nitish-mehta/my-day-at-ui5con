/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library"],function(e){"use strict";var t={};t.render=function(t,a){var i=a.getValue();var r=a.getIndicator();var s=a.getScale();var d=a.getState();var l=e.DeviationIndicator.None!==r&&i!=="";var n=a.getWithMargin();var o;if(n){o=""}else{o="WithoutMargin"}if(a.getFormatterValue()){var w=a._parseFormattedValue(i);s=w.scale;i=w.value}var C=s&&i;t.write("<div");t.writeControlData(a);var u=a.getTooltip_AsString();if(typeof u!=="string"){u=""}t.writeAttributeEscaped("aria-label",u);t.writeAttribute("role","img");if(d==e.LoadState.Failed||d==e.LoadState.Loading){t.writeAttribute("aria-disabled","true")}if(a.getAnimateTextChange()){t.addStyle("opacity","0.25")}if(a.getWidth()){t.addStyle("width",a.getWidth())}t.writeStyles();t.addClass("sapMNC");t.addClass(o);if(a.hasListeners("press")){t.writeAttribute("tabindex","0");t.addClass("sapMPointer")}t.writeClasses();t.write(">");t.write("<div");t.addClass("sapMNCInner");t.addClass(o);t.writeClasses();t.write(">");if(n){this._renderScaleAndIndicator(t,a,l,C,o,r,s);this._renderValue(t,a,o,i)}else{this._renderValue(t,a,o,i);this._renderScaleAndIndicator(t,a,l,C,o,r,s)}t.write("</div>");t.write("</div>")};t._prepareAndRenderIcon=function(t,a,i){if(i){var r,s=e.LoadState,d=a.getState();for(r in s){if(s.hasOwnProperty(r)&&r!==d){i.removeStyleClass(r)}else if(s.hasOwnProperty(r)&&r===d){i.addStyleClass(r)}}i.addStyleClass("sapMNCIconImage");t.renderControl(i)}};t._renderScaleAndIndicator=function(e,t,a,i,r,s,d){if(a||i){var l=t.getState();var n=t.getValueColor();e.write("<div");e.addClass("sapMNCIndScale");e.addClass(r);e.addClass(l);e.writeClasses();e.write(">");e.write("<div");e.writeAttribute("id",t.getId()+"-indicator");e.addClass("sapMNCIndicator");e.addClass(s);e.addClass(l);e.addClass(n);e.writeClasses();e.write("/>");if(i){e.write("<div");e.writeAttribute("id",t.getId()+"-scale");e.addClass("sapMNCScale");e.addClass(l);e.addClass(n);e.writeClasses();e.write(">");e.writeEscaped(d.substring(0,3));e.write("</div>")}e.write("</div>")}};t._renderValue=function(e,t,a,i){var r;if(t.getNullifyValue()){r="0"}else{r=""}e.write("<div");e.writeAttribute("id",t.getId()+"-value");e.addClass("sapMNCValue");e.addClass(a);e.addClass(t.getValueColor());e.addClass(t.getState());e.writeClasses();e.write(">");e.write("<div");e.writeAttribute("id",t.getId()+"-value-scr");e.addClass("sapMNCValueScr");e.addClass(a);e.writeClasses();e.write(">");this._prepareAndRenderIcon(e,t,t._oIcon);var s=t.getTruncateValueTo();if(i.length>=s&&(i[s-1]==="."||i[s-1]===",")){e.writeEscaped(i.substring(0,s-1))}else{if(i){e.writeEscaped(i.substring(0,s))}else{e.writeEscaped(r)}}e.write("</div>");e.write("</div>")};return t},true);